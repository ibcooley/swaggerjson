components:
  securitySchemes:
    ClientID:
      in: header
      name: AUTH_CLIENT_ID
      type: apiKey
    ClientSecret:
      in: header
      name: AUTH_CLIENT_SECRET
      type: apiKey
info:
  contact:
    email: support@silvercar.com
    name: Silvercar Support
    url: https://support.silvercar.com
  description: MOB-API
  termsOfService: support@silvercar.com
  title: MOB-API
  version: 1.0.0
openapi: 3.0.0
paths:
  /v4/admin/agreement/toggles/{id}:
    delete:
      operationId: deleteAgreementToggle
      parameters:
      - description: The id of the toggle
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Delete an Agreement Toggle
      tags:
      - Agreement Toggles
    put:
      operationId: putAgreementToggle
      parameters:
      - description: The id of the toggle
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                style:
                  description: this is use to add styling for the agreement, this
                    is part of a requirement for MD customers
                  example: bold
                  type: string
                text:
                  description: The text of the toggle
                  example: I agree to receive my contract and receipt communications
                    via SMS
                  type: string
                translations:
                  description: this is text based attribute but will work as JSON
                    format to handle sub-languages like fr
                  example: '[{"language": "fr", "text": "French version of the text"}]'
                  type: string
              required:
              - text
              type: object
        required: true
      responses:
        '204':
          description: No Content
        '401':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Invalid authorization token
                    type: string
                type: object
          description: Unauthorized
        '403':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Request is forbidden
                    type: string
                type: object
          description: Forbidden
        '404':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Resource with id :id not found
                    type: string
                type: object
          description: Not found
        '415':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Accepted media types is limited to JSON (application/json)
                    type: string
                type: object
          description: Unsupported Media Type
        '422':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Invalid resource id
                    type: string
                type: object
          description: Unprocessable Entity
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update an Agreement Toggle
      tags:
      - Agreement Toggles
  /v4/admin/agreements/mappable_fields:
    get:
      operationId: getMappableFields
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Success
        '401':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all fields that can be mapped onto an agreement
      tags:
      - Agreements
  /v4/admin/contracts/{contract_id}/notes:
    get:
      operationId: getContractNotes
      parameters:
      - description: the Contract ID
        in: path
        name: contract_id
        required: true
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: false
        schema:
          type: integer
      - description: Number of records to include in the page
        in: query
        name: per_page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    author:
                      description: Author of note
                      example: Clever D. Corgi
                      type: string
                    content:
                      description: Note text
                      example: Requests cars with only 3 tires
                      type: string
                    id:
                      description: ID of note
                      example: 1
                      type: integer
                    updated_at:
                      description: Time note was last updated
                      example: 2017-09-06 10:00:00+00:00
                      format: datetime
                      type: string
                  type: object
                type: array
          description: Success
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get the notes for a contract
      tags:
      - Contracts
      - Notes
    post:
      operationId: postContractNote
      parameters:
      - description: the Contract ID
        in: path
        name: contract_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  type: string
              required:
              - content
              type: object
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: The request has been fulfilled and has resulted in a
                      new resource being created
                    type: string
                type: object
          description: Created
        '400':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Add a note for a contract
      tags:
      - Contracts
      - Notes
  /v4/admin/contracts/{contract_id}/notes/{id}:
    delete:
      operationId: deleteContractNote
      parameters:
      - description: the Contract ID
        in: path
        name: contract_id
        required: true
        schema:
          type: integer
      - description: the Note ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '400':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Delete a note for a contract
      tags:
      - Contracts
      - Notes
    put:
      operationId: putContractNote
      parameters:
      - description: the Contract ID
        in: path
        name: contract_id
        required: true
        schema:
          type: integer
      - description: the Note ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  type: string
              required:
              - content
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '400':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update a note for a contract
      tags:
      - Contracts
      - Notes
  /v4/admin/contracts/{id}:
    get:
      operationId: getContract
      parameters:
      - description: the contract ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  actual_dropoff_at:
                    example: 2023-01-16 20:00:00+00:00
                    format: date-time
                    nullable: true
                    type: string
                  actual_pickup_at:
                    example: 2023-01-14 20:00:00+00:00
                    format: date-time
                    nullable: true
                    type: string
                  booked_by_name:
                    example: Alexton McAnderson
                    type: string
                  booked_car_detailed_description:
                    properties:
                      acriss_code:
                        example: LCAR
                        type: string
                      acriss_model_description:
                        example: Luxy 2/4 Door Automatic with AC
                        type: string
                      city_mpg:
                        example: '21'
                        type: string
                      fuel_tank:
                        example: '17.4'
                        type: string
                      hwy_mpg:
                        example: '32'
                        type: string
                      luggage:
                        example: 2-3
                        type: string
                      make:
                        example: Lexus
                        type: string
                      model:
                        example: IS
                        type: string
                      passengers:
                        example: '5'
                        type: string
                      style:
                        example: '300'
                        type: string
                      type:
                        example: Sedan
                        type: string
                      year:
                        example: '2020'
                        type: string
                    type: object
                  confirmation_token:
                    description: also referred to as contract id
                    example: 7713738FG3
                    type: string
                  contactless:
                    description: denotes whether or not the contract is a contactless
                      contract
                    example: false
                    type: boolean
                  created_at:
                    example: 2021-01-15 19:38:26+00:00
                    format: date-time
                    type: string
                  finished_by_name:
                    example: J. Last
                    nullable: true
                    type: string
                  id:
                    description: database id of the contract
                    example: 42
                    type: integer
                  links:
                    properties:
                      customer:
                        $ref: null
                      dealership:
                        $ref: null
                      fleet:
                        $ref: null
                      vehicle:
                        properties:
                          href:
                            description: Link to the associated resource
                            example: https://api.dw-tst.com/admin/some_resources/2
                            type: string
                          id:
                            description: ID of the associated resource
                            example: 2
                            type: integer
                        type: object
                    type: object
                  repair_order:
                    description: The optional repair order sent from a contract creation
                      request
                    example: 1234ABC
                    nullable: true
                    type: string
                  scheduled_dropoff_at:
                    example: 2021-01-17 15:00:00+00:00
                    format: date-time
                    type: string
                  scheduled_pickup_at:
                    example: 2021-01-14 20:00:00+00:00
                    format: date-time
                    type: string
                  service_advisor_name:
                    example: Orange Cassidy
                    nullable: true
                    type: string
                  service_vehicle_id:
                    description: The optional service vehicle ID sent from a contract
                      creation request
                    example: 1234ABC
                    nullable: true
                    type: string
                  signed:
                    description: denotes whether or not the required contract signatures
                      are present
                    example: true
                    type: boolean
                  status:
                    enum:
                    - booked
                    - cancelled
                    - pending_agreement
                    - started
                    - finished
                    - no_showed
                    type: string
                  updated_at:
                    example: 2021-01-14 19:38:26+00:00
                    format: date-time
                    type: string
                type: object
          description: Success
        '400':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Bad Request
                    type: string
                type: object
          description: Bad Request
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          content:
            application/json:
              schema:
                properties:
                  code:
                    example: 6789
                    type: integer
                  message:
                    example: Missing headers in request
                    type: string
                type: object
          description: Not Acceptable
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch Details for a Given Contract
      tags:
      - Contracts
    put:
      operationId: putContract
      parameters:
      - description: the contract ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                fleet_id:
                  example: 20
                  type: number
                repair_order:
                  example: ABC123
                  type: string
                scheduled_dropoff_at:
                  example: 2029-06-15 20:22:26+00:00
                  format: date-time
                  type: string
                scheduled_pickup_at:
                  example: 2029-06-15 20:22:26+00:00
                  format: date-time
                  type: string
                service_advisor_id:
                  example: 1
                  type: number
                service_vehicle_id:
                  description: only allows numbers and lowercase letters
                  example: 123abc
                  type: string
                vehicle_id:
                  example: 42
                  nullable: true
                  type: number
              required:
              - scheduled_pickup_at
              - scheduled_dropoff_at
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update Details for a Given Contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/agreement/toggles:
    get:
      operationId: getAdminContractsToggles
      parameters:
      - description: The ID of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    active:
                      description: Only present on Managed Toggles
                      example: true
                      nullable: true
                      type: boolean
                    created_at:
                      example: 2020-06-15 20:22:26+00:00
                      format: date-time
                      type: string
                    id:
                      example: 123
                      type: integer
                    language:
                      description: The main language of the agreement
                      example: en
                      type: string
                    links:
                      properties:
                        fleet:
                          $ref: null
                        toggle_group:
                          $ref: null
                    numeric_order:
                      description: 0 indexed position index for the toggle to print
                        on contracts
                      example: 1
                      type: integer
                    read_only:
                      example: true
                      type: boolean
                    style:
                      description: Only present on Agreement Toggles (non-Managed
                        toggles)
                      example: bold
                      nullable: true
                      type: string
                    text:
                      description: The text of the toggle
                      example: I agree to receive my contract and receipt communications
                        via SMS
                      type: string
                    translations:
                      description: this is text based attribute but will work as JSON
                        format to handle sub-languages like fr
                      example: '[{"language": "fr", "text": "French version of the
                        text"}]'
                      type: string
                    updated_at:
                      example: 2020-06-15 20:22:26+00:00
                      format: date-time
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all Toggles attached to a given Contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/authorization:
    get:
      operationId: getAdminContractAuthorization
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  amount:
                    description: Authorization amount for contract
                    example: 123.45
                    format: float
                    type: number
                  currency_code:
                    description: Applicable currency code for the contract
                    example: USD
                    type: string
                  links:
                    properties:
                      contract:
                        $ref: null
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the authorization amount for a given contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/billing/adjustments:
    get:
      operationId: getAdminContractAdjustments
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    id:
                      description: Adjustment ID to be used as type_id when creating
                        a line item
                      example: 42
                      type: integer
                    name:
                      description: Display name for the available adjustment
                      example: Fuel Service Charge
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the available adjustments for a given contract
      tags:
      - Contracts
      - Invoicing
    post:
      operationId: postAdminContractBillingAdjustment
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                amount:
                  description: Dollar amount of charge or credit being added
                  example: -56.45
                  format: float
                  type: number
                description:
                  description: Description of the charge or credit being added
                  example: additional cleaning charge
                  type: string
                type_id:
                  description: Billing Adjustment ID of corresponding adjustment type
                  example: 42
                  type: integer
              type: object
        required: true
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of updated pricing summary
                example: https://api.dw-tst.com/contracts/42/pricing
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a billing adjustment (charge or credit) for the given contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/cancel:
    delete:
      operationId: deleteAdminContractCancel
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Cancel the Given Contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/contactless/messages:
    post:
      operationId: postContractContactlessMessages
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                fuel_percentage:
                  example: 94.6
                  format: double
                  type: number
                odometer:
                  properties:
                    unit:
                      example: km
                      type: string
                    value:
                      example: 20055.12
                      format: float
                      type: number
                  required:
                  - value
                  - unit
                  type: object
        required: true
      responses:
        '202':
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: The request has been accepted for processing
                    type: string
                type: object
          description: Accepted
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a contactless text message associated with a contract
      tags:
      - Admin
      - Contracts
  /v4/admin/contracts/{id}/customer:
    get:
      operationId: getAdminContractCustomer
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  email:
                    description: Customer email
                    example: leslie.knope@parks.test
                    type: string
                  first_name:
                    description: First name
                    example: Leslie
                    type: string
                  id:
                    description: Customer ID
                    example: 42
                    type: integer
                  last_name:
                    description: Last name
                    example: Knope
                    type: string
                  links:
                    properties:
                      contract:
                        $ref: null
                  phone_number:
                    description: Customer phone number, stripped to digits only
                    example: '15554447275'
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the customer attached to a given Contract
      tags:
      - Contracts
      - Customers
  /v4/admin/contracts/{id}/drivers:
    get:
      operationId: getAdminContractsDrivers
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    born_on:
                      description: The date of birth formatted like YYYY-MM-DD
                      example: 1989-04-19
                      type: string
                    country:
                      description: The country of the drivers license
                      example: US
                      type: string
                    email:
                      description: Email
                      example: hulk.hogan@gmail.com
                      type: string
                    first_name:
                      description: First name
                      example: Hulk
                      type: string
                    id:
                      description: Additional Driver ID
                      example: 22
                      type: integer
                    last_name:
                      description: Last name
                      example: Hogan
                      type: string
                    license_expires_on:
                      description: The expiration date of the drivers license formatted
                        like YYYY-MM-DD
                      example: 2020-06-06
                      type: string
                    license_number:
                      description: The drivers license number
                      example: 99887766
                      type: string
                    license_subregion:
                      description: The subregion of the drivers license
                      example: TX
                      type: string
                    links:
                      properties:
                        contract:
                          $ref: null
                      type: object
                    phone_number:
                      description: The phone number unformatted
                      example: 5124592222
                      type: string
                    signature:
                      description: Has a signature image by signing their agreement
                      example: true
                      type: boolean
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all Drivers attached to a given Contract
      tags:
      - Contracts
      - Drivers
    post:
      operationId: postAdminContractsDrivers
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                born_on:
                  description: The date of birth formatted like YYYY-MM-DD
                  example: 1993-04-19
                  type: string
                country:
                  description: The country of the drivers license
                  example: US
                  type: string
                email:
                  description: Email
                  example: hulk.hogan@gmail.com
                  type: string
                first_name:
                  description: First Name
                  example: Hulk
                  type: string
                last_name:
                  description: Last Name
                  example: Hogan
                  type: string
                license_expires_on:
                  description: The expiration date formatted like YYYY-MM-DD
                  example: 2018-08-20
                  type: string
                license_number:
                  description: The drivers license number
                  example: 99887766
                  type: string
                license_subregion:
                  description: The subregion of the drivers license
                  example: TX
                  type: string
                phone_number:
                  description: The additional drivers' phone number unformatted
                  example: 5124592222
                  type: string
              required:
              - born_on
              - country
              - first_name
              - last_name
              - license_expires_on
              - license_number
              - license_subregion
              - phone_number
              type: object
        required: true
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of created contract additional drivers
                example: https://api.dw-tst.com/admin/drivers/12
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a Driver attached to a given Contract
      tags:
      - Contracts
      - Drivers
  /v4/admin/contracts/{id}/finish:
    put:
      operationId: putAdminContractFinish
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                dropoff_at:
                  example: 2023-08-10 20:22:26+00:00
                  type: string
                fuel:
                  description: Fuel level, expressed as a percentage of how full the
                    car's fuel tank is
                  example: 75
                  format: float
                  type: number
                odometer:
                  properties:
                    unit:
                      description: unit of measurement for odometer level, currently
                        only accepts 'km'
                      example: km
                      type: string
                    value:
                      example: 20055.12
                      format: float
                      type: number
                  required:
                  - value
                  - unit
                  type: object
              required:
              - dropoff_at
              - fuel
              - odometer
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Finish the given Contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/payment_method:
    put:
      operationId: putAdminContractPaymentMethod
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  description: Id of the payment method to update the contract with
                  example: 42
                  type: integer
              required:
              - id
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the payment method for the given contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/payments:
    get:
      operationId: getAdminContractPayments
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    amount:
                      description: Total payment amount
                      example: 50.25
                      format: float
                      type: number
                    card_type:
                      description: Card type of the payment method
                      example: Visa
                      type: string
                    created_at:
                      description: Time that payment was created
                      example: 2020-06-15 20:22:26+00:00
                      format: date-time
                      type: string
                    error_code:
                      description: payment code returned by the payment processor
                        on failed payments
                      example: 3005
                      type: number
                    id:
                      description: Payment ID
                      example: 42
                      type: integer
                    last_four:
                      description: Last four digits of the payment method
                      example: '1234'
                      type: string
                    links:
                      properties:
                        contract:
                          $ref: null
                    status:
                      description: Status of the payment transaction
                      enum:
                      - authorization_expired
                      - authorized
                      - completed
                      - failed
                      - pending
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the payments attached to a given Contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/pricing:
    get:
      operationId: getAdminContractPricing
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  balance:
                    description: Remaining balance due for the contract
                    example: 89.23
                    format: float
                    type: number
                  currency_code:
                    description: Applicable currency code for the contract
                    example: USD
                    type: string
                  customer_balance:
                    description: Remaining balance due for the customer
                    example: 89
                    format: float
                    type: number
                  customer_payments_total:
                    description: Total of successful customer payments on the contract
                    example: 36.98
                    format: float
                    type: number
                  customer_total:
                    description: Total customer cost of the contract, before applied
                      payments
                    example: 125.98
                    format: float
                    type: number
                  id:
                    description: Statement ID
                    example: 42
                    type: integer
                  links:
                    properties:
                      contract:
                        $ref: null
                  payer_balance:
                    description: Remaining additional payer balance of the contract
                    example: 0
                    format: float
                    type: number
                  payer_payments_total:
                    description: Total of payments made by the additional payer
                    example: 0
                    format: float
                    type: number
                  payer_total:
                    description: Total additional payer cost of the contract
                    example: 0
                    format: float
                    type: number
                  payments_total:
                    description: Total of successful payments on the contract
                    example: 36.98
                    format: float
                    type: number
                  pricing:
                    description: Collection of charge types and line items
                    items:
                      properties:
                        groups:
                          description: Grouped line items for split bills
                          items:
                            properties:
                              description:
                                description: The description of the line item
                                example: 12 Daily Rates ($4.00 per day)
                                type: string
                              items:
                                description: Line items for the line item group
                                items:
                                  properties:
                                    bill_to:
                                      description: Bill To Name
                                      example: Leslie Knope
                                      type: string
                                    total:
                                      description: Total of the line item
                                      example: 48.5
                                      format: float
                                      type: number
                                  type: object
                                type: array
                              total:
                                description: Total of the line items
                                example: 48.5
                                format: float
                                type: number
                            type: object
                          type: array
                        name:
                          description: Display name of pricing section
                          example: Total Rental Charges
                          type: string
                        total:
                          description: Sum of included line items.
                          example: 125.98
                          format: float
                          type: number
                        type:
                          description: Type of adjustment or charge line items
                          example: rental
                          type: string
                      type: object
                    type: array
                  total:
                    description: Total cost of the contract, before applied payments
                    example: 125.98
                    format: float
                    type: number
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the pricing information of a given Contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/receipt/pdf:
    post:
      operationId: postAdminContractReceiptPdf
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of receipt PDF
                example: https://api.dw-tst.com/rental_receipt/TUREQkxHQk1hUzFoUj
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Generate and fetch receipt PDF for the given contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/rental_agreements:
    get:
      description: Get the rental agreement PDF for a reservation
      operationId: getRentalAgreementPDF
      parameters:
      - description: reservation_id used to scope rental agreement
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/pdf:
              schema:
                format: binary
                type: string
          description: Rental agreement PDF
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - Admin
      - Contracts
      - Rental Agreement
  /v4/admin/contracts/{id}/settlements:
    post:
      operationId: postAdminContractSettlement
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of contract payment list
                example: https://api.dw-tst.com/contracts/42/payments
                type: string
        '202':
          description: Accepted
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a settlement attempt on the balance of the contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/split_bill:
    delete:
      operationId: deleteAdminContractSplitBill
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deletes a split bill
      tags:
      - Contracts
    get:
      operationId: getAdminContractSplitBill
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  city:
                    description: City of an address
                    example: Austin
                    type: string
                  contact_name:
                    description: Name of a contact
                    example: Claims Department
                    type: string
                  downloaded_at:
                    description: Time at which the invoice pdf was downloaded
                    example: 2020-10-21 10:10:10+00:00
                    format: date-time
                    type: string
                  email:
                    description: Email of a contact
                    example: aaa@bbb.com
                    type: string
                  fleet_id:
                    description: Program for split bill
                    example: 1213
                    format: integer
                    type: number
                  id:
                    description: ID for split bill
                    example: 1213
                    format: integer
                    type: number
                  line1:
                    description: First line of an address
                    example: 123 W St
                    type: string
                  line2:
                    description: Second line of an address
                    example: 456 W St
                    type: string
                  links:
                    properties:
                      contract:
                        $ref: null
                      downloaded_by:
                        $ref: null
                  name:
                    description: Name of additional payer
                    example: Insurance Company
                    type: string
                  paid:
                    description: Whether the invoice has been marked as paid
                    example: false
                    type: boolean
                  phone_number:
                    description: Phone number of a contact
                    example: '15551237890'
                    type: string
                  postal_code:
                    description: Postal code of an address
                    example: '78701'
                    type: string
                  reference_number:
                    description: Optional field for tracking number
                    example: Claim 1234
                    type: string
                  subregion:
                    description: Subregion of an address
                    example: TX
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the split bill associated to a given Contract
      tags:
      - Contracts
    post:
      operationId: postAdminContractSplitBill
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                city:
                  description: City of an address
                  example: Austin
                  type: string
                contact_name:
                  description: Name of a contact
                  example: Claims Department
                  type: string
                email:
                  description: Email of a contact
                  example: aaa@bbb.com
                  type: string
                fleet_id:
                  example: 42
                  format: integer
                  type: number
                line1:
                  description: First line of an address
                  example: 123 W St
                  type: string
                line2:
                  description: Second line of an address
                  example: 456 W St
                  type: string
                name:
                  description: Name of additional payer
                  example: Insurance Company
                  type: string
                phone_number:
                  description: Phone number of a contact
                  example: '15551237890'
                  type: string
                postal_code:
                  description: Postal code of an address
                  example: '78701'
                  type: string
                reference_number:
                  description: Optional field for tracking number
                  example: Claim 1234
                  type: string
                subregion:
                  description: Subregion of an address
                  example: TX
                  type: string
              required:
              - name
              type: object
        required: true
      responses:
        '201':
          description: Created
          headers:
            Location:
              description: Location of created resource
              schema:
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a split bill that is associated with a given contract
      tags:
      - Contracts
    put:
      operationId: putAdminContractSplitBill
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the split bill associated with a given contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/split_bill/adjustment:
    get:
      operationId: getAdminContractSplitBillAdjustment
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  amount:
                    description: Amount of the total to be added to the split bill
                    example: 123.45
                    format: float
                    type: number
                  links:
                    properties:
                      contract:
                        $ref: null
                  taxable:
                    description: Whether the payer of the split bill pays sales tax.
                    example: true
                    type: boolean
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the adjustment associated to a given contract's split bill
      tags:
      - Contracts
    post:
      operationId: postAdminContractSplitBillAdjustment
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                amount:
                  description: Amount of the total to be added to the split bill
                  example: 123.45
                  format: float
                  type: number
                split_bill_id:
                  description: id for the split bill that the split should be applied
                    to
                  format: integer
                  type: number
                taxable:
                  description: Whether the payer of the split bill pays sales tax.
                  example: true
                  type: boolean
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates an adjustment of the specified amount on a contract's split
        bill
      tags:
      - Contracts
  /v4/admin/contracts/{id}/split_bill/payment:
    delete:
      operationId: deleteAdminContractSplitBillPayment
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deletes the payment of the split bill of a given contract
      tags:
      - Contracts
    post:
      operationId: postAdminContractSplitBillPayment
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a payment for the split bill of a given contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/split_bill/pdf:
    post:
      operationId: postAdminContractSplitBillPdf
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of split bill PDF
                example: https://api.dw-tst.com/documents/TUREQkxHQk1hUzFoUj
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Generate split bill PDF for the given contract
      tags:
      - Contracts
      - Invoicing
  /v4/admin/contracts/{id}/start:
    put:
      operationId: putAdminContractStart
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                bypass_signatures:
                  description: a value of true will allow a contract to be started
                    without the collection of a digital signature from the customer,
                    default is false
                  type: boolean
                fuel:
                  properties:
                    unit:
                      description: unit of measurment for fuel value, usually 'L'
                        for liters
                      example: L
                      type: string
                    value:
                      example: 17.53
                      format: float
                      type: number
                  required:
                  - value
                  - unit
                  type: object
                odometer:
                  properties:
                    unit:
                      description: unit of measurment for odometer level, usually
                        'km' for kilometers
                      example: km
                      type: string
                    value:
                      example: 20055.12
                      format: float
                      type: number
                  required:
                  - value
                  - unit
                  type: object
                vehicle_id:
                  example: 42
                  format: integer
                  type: number
              required:
              - fuel
              - odometer
              - vehicle_id
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Start the Given Contract
      tags:
      - Contracts
  /v4/admin/contracts/{id}/unassign_vehicle:
    put:
      operationId: putAdminContractUnassignVehicle
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Unassign the vehicle currently assigned to the given contract
      tags:
      - Contracts
      - Vehicles
  /v4/admin/contracts/{id}/vehicle:
    put:
      operationId: putAdminContractVehicle
      parameters:
      - description: The id of the contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  description: Vehicle ID
                  example: 42
                  type: integer
              required:
              - id
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Assign a Vehicle to the Given Contract
      tags:
      - Contracts
      - Vehicles
  /v4/admin/contracts/{id}/vehicles/available:
    get:
      operationId: getAdminContractVehiclesAvailable
      parameters:
      - description: The contract id
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Overriding the fleet from the contract to list out available
          vehicles
        in: query
        name: fleet_id
        required: false
        schema:
          example: 523
          type: integer
      - description: Page number returned from collection based on total records and
          records per response
        in: query
        name: page
        required: false
        schema:
          default: 1
          type: integer
      - description: Number records returned in collection in response
        in: query
        name: per_page
        required: false
        schema:
          default: 30
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    acriss_code:
                      example: CFAR
                      type: string
                    acriss_model_description:
                      example: Compact SUV Automatic With AC
                      type: string
                    color:
                      description: The color of the vehicle. may not be defined for
                        non-Sedgwick location
                      example: Silver
                      type: string
                    connected:
                      example: true
                      type: boolean
                    connected_car_device_firmware:
                      example: 281110619:159:11
                      type: string
                    connected_car_device_last_updated:
                      example: 2020-06-11 15:08:53+00:00
                      format: date-time
                      type: string
                    fuel:
                      properties:
                        capacity:
                          example: 20
                          type: number
                        unit:
                          example: L
                          type: string
                        value:
                          example: 10
                          type: number
                      required:
                      - unit
                      - capacity
                      type: object
                    id:
                      example: 23561
                      type: integer
                    license:
                      example: DNL445
                      type: string
                    links:
                      properties:
                        fleet:
                          $ref: null
                        fleet_ids:
                          example:
                          - 123
                          - 125
                          items:
                            type: number
                          type: array
                        fleets:
                          items:
                            $ref: null
                          type: array
                    make:
                      example: Audi
                      type: string
                    model:
                      example: Q5
                      type: string
                    odometer:
                      properties:
                        unit:
                          example: km
                          type: string
                        value:
                          description: 0.0 indicates no reading was found
                          example: 3293.5
                          format: float
                          type: number
                      required:
                      - value
                      - unit
                      type: object
                    off_lot:
                      example: true
                      type: boolean
                    physical_location:
                      example: Lot A
                      type: string
                    status:
                      example: rented
                      type: string
                    stock_number:
                      example: VV111
                      type: string
                    telematics_enrolled:
                      example: true
                      type: boolean
                    telematics_source:
                      example: guidepoint
                      type: string
                    toll_tag_number:
                      example: HMSJNFDS
                      type: string
                    vin:
                      example: 1FT7W2BT4DEB5192
                      type: string
                    year:
                      example: 2020
                      type: integer
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Retrieves a list of available vehicles for the given contract
      tags:
      - Contracts
      - Vehicles
  /v4/admin/contracts/{id}/vehicles/available/search:
    get:
      operationId: getAdminContractVehiclesAvailableSearch
      parameters:
      - description: The contract id
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Query parameter to search against indexed fields on vehicle
        in: query
        name: q
        required: true
        schema:
          type: string
      - description: Overriding the fleet from the contract to search for available
          vehicles
        in: query
        name: fleet_id
        required: false
        schema:
          example: 523
          type: integer
      - description: Page number returned from collection based on total records and
          records per response
        in: query
        name: page
        required: false
        schema:
          default: 1
          type: integer
      - description: Number records returned in collection in response
        in: query
        name: per_page
        required: false
        schema:
          default: 30
          type: integer
      - description: The sort order is ascending unless the column name is prefixed
          with a minus (U+002D HYPHEN-MINUS, "-"), in which case it will be descending.
        in: query
        name: sort
        required: false
        schema:
          enum:
          - created_at
          - license
          - model
          - odometer
          - physical_location
          - status
          - stock_number
          - year
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a list of available vehicles for a contract based on the provided
        query
      tags:
      - Contracts
      - Vehicles
  /v4/admin/contracts/{id}/warranty:
    delete:
      operationId: deleteAdminContractsWarranty
      parameters:
      - description: The id of the Contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Removes the Warranty from a Contract
      tags:
      - Contracts
      - Warranties
    get:
      operationId: getContractWarranty
      parameters:
      - description: The id of the Contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  authorization_number:
                    example: ABC123
                    type: string
                  daily_rate:
                    example: 100.25
                    type: number
                  tax_percentage:
                    example: 0.08
                    type: number
                  warranty_days:
                    example: 4
                    type: number
                type: object
          description: Success
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a Warranty for a Contract
      tags:
      - Contracts
      - Warranties
    post:
      operationId: postContractsWarranty
      parameters:
      - description: The id of the Contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '201':
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a Warranty for a Contract
      tags:
      - Contracts
      - Warranties
    put:
      operationId: putAdminContractsWarranty
      parameters:
      - description: The id of the Contract
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the Contract's Warranty
      tags:
      - Contracts
      - Warranties
  /v4/admin/customers/{customer_id}:
    get:
      operationId: adminCustomerGet
      parameters:
      - description: the customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  amount_due:
                    example: 30.05
                    type: string
                  ccpa:
                    example: true
                    type: boolean
                  complete_profile:
                    example: true
                    type: boolean
                  email:
                    example: dusty.rhodes@gmail.com
                    nullable: true
                    type: string
                  first_name:
                    example: Dusty
                    type: string
                  has_ongoing_contracts:
                    example: true
                    nullable: false
                    type: boolean
                  id:
                    example: 12
                    type: integer
                  language:
                    description: The preferred language
                    enum:
                    - en
                    - fr
                    example: en
                    type: string
                  last_name:
                    example: Rhodes
                    type: string
                  links:
                    properties:
                      dealership:
                        $ref: null
                    type: object
                  permitted_to_rent:
                    example: true
                    type: boolean
                  phone_number:
                    example: 5128675309
                    type: string
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a customers's profile details
      tags:
      - Customers
    put:
      operationId: putAdminCustomerUpdate
      parameters:
      - description: the customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  description: Email could be required based on the communication_preference
                    location setting
                  example: cody.rhodes@gmail.com
                  type: string
                first_name:
                  example: Cody
                  type: string
                language:
                  enum:
                  - en
                  - fr
                  type: string
                last_name:
                  example: Rhodes
                  type: string
                phone_number:
                  example: 5124592222
                  type: string
              required:
              - first_name
              - last_name
              - phone_number
              - language
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update a Customer's profile
      tags:
      - Customers
  /v4/admin/customers/{customer_id}/contracts:
    get:
      operationId: getAdminCustomersContracts
      parameters:
      - description: The id of the scoped customer
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: Number of records returned in a collection in the response
        in: query
        name: per_page
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    actual_dropoff_at:
                      description: Time vehicle was actually dropped off at
                      example: 2021-01-17 15:00:00+00:00
                      format: date-time
                      nullable: true
                      type: string
                    actual_pickup_at:
                      description: Time vehicle was actually picked up at
                      example: 2021-01-14 20:00:00+00:00
                      format: date-time
                      nullable: true
                      type: string
                    balance:
                      description: Amount due on contract
                      example: $254.00
                      type: string
                    confirmation_token:
                      description: also referred to as contract id
                      example: 7713738FG3
                      type: string
                    id:
                      description: database id of the contract
                      example: 42
                      type: integer
                    scheduled_dropoff_at:
                      example: 2021-01-17 15:00:00+00:00
                      format: date-time
                      type: string
                    scheduled_pickup_at:
                      example: 2021-01-14 20:00:00+00:00
                      format: date-time
                      type: string
                    status:
                      enum:
                      - booked
                      - cancelled
                      - pending_agreement
                      - started
                      - finished
                      - no_showed
                      type: string
                  type: object
                type: array
          description: Successfully got Customer contracts
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource not found
        '422':
          content:
            application/json:
              schema:
                $ref: null
          description: Formatting error
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the contracts for a customer at a particular dealership
      tags:
      - Contracts
  /v4/admin/customers/{customer_id}/credit_card:
    post:
      description: Create Customer credit card
      operationId: createCreditCard
      parameters:
      - description: Customer used to scope credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                allow_debit:
                  description: Boolean representing if debit transactions are allowed
                    on this card
                  example: true
                  type: boolean
                cardholder_name:
                  description: Name of the credit card owner
                  example: Khal Drogo
                  type: string
                nonce:
                  description: Reference to payment information sent from Braintree
                  example: 23kj6Tr
                  type: string
                verified:
                  description: Identifies if credit card has been verified
                  example: false
                  type: boolean
        required: true
      responses:
        '201':
          description: Successfully created Customer credit card
        '400':
          content:
            application/json:
              schema: {}
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema: {}
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema: {}
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema: {}
          description: Requested resource does not exist or was not found
        '422':
          content:
            application/json:
              schema: {}
          description: Unprocessable Entity
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
  /v4/admin/customers/{customer_id}/credit_card/default:
    get:
      description: get customer default credit card. Returns an empty body if there
        is no default credit card
      operationId: getDefaultCreditCard
      parameters:
      - description: Customer used to scope credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Successfully retrieved Customers active credit card
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
  /v4/admin/customers/{customer_id}/credit_card/{id}:
    delete:
      description: delete customer credit card
      operationId: deleteCreditCard
      parameters:
      - description: Customer used to scope credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: Id of requested credit card
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Override to delete card that is associated with an open contract
          or unsettled balance
        in: query
        name: force_delete
        required: false
        schema:
          type: boolean
      responses:
        '204':
          description: Successfully deletes customers credit card
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
        '422':
          content:
            application/json:
              schema:
                $ref: null
          description: Card In Use, cannot be deleted
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
    get:
      description: get customer credit card
      operationId: getCreditCard
      parameters:
      - description: Customer used to scope credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: Id of requested credit card
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Successfully retrieved Customers active credit card
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
    put:
      description: update default customer credit card
      operationId: updateDefaultCreditCard
      parameters:
      - description: Customer used to scope credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: Id of requested credit card
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Successfully updates customers scoped credit card
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
  /v4/admin/customers/{customer_id}/credit_cards:
    get:
      description: returns credit cards associated with the scoped customer
      operationId: getCreditCards
      parameters:
      - description: Customer used to scope active credit card
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    card_type:
                      description: Issue of credit card
                      example: Visa
                      type: string
                    cardholder_name:
                      description: Name written on credit card
                      example: Porky T. Pig
                      type: string
                    debit:
                      description: Identifies if card is a debit card
                      example: true
                      type: boolean
                    default:
                      description: Identifies if returned credit card is the default
                        for the associated customer
                      example: true
                      type: boolean
                    expiration_month:
                      description: Numerical representation of the month credit card
                        expires
                      example: 12
                      type: integer
                    expiration_year:
                      description: Numerical representation of the year credit card
                        expires
                      example: 2023
                      type: integer
                    id:
                      description: Id associated with credit card
                      example: 12345
                      type: integer
                    last_four:
                      description: Last four digits of credit card
                      example: '9257'
                      type: string
                    postal_code:
                      example: '20147'
                      type: string
                    prepaid:
                      description: Boolean identifying if the card is a prepaid card
                      example: false
                      type: boolean
                    token:
                      description: Alphanumeric value from Braintree that references
                        a scoped credit card
                      example: 5tY7UI8
                      type: string
                type: array
          description: Successfully retrieved credit cards associated with scoped
            customer
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
  /v4/admin/customers/{customer_id}/denylist:
    delete:
      operationId: DeleteCustomerFromBlacklist
      parameters:
      - description: The Customer ID for querying and then delete from blacklist that
          according to
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Delete a customer from blacklist
      tags:
      - DeleteCustomerFromBlacklist
    get:
      operationId: QueryDNR
      parameters:
      - description: The Customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Query a customer whether he is in DNR list
      tags:
      - QueryDNR
    post:
      operationId: CreateBlacklist
      parameters:
      - description: The Customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a blacklist record for customer
      tags:
      - CreateBlacklist
  /v4/admin/customers/{customer_id}/drivers_license:
    post:
      description: Create Customer drivers license
      operationId: createCustomerDriversLicense
      parameters:
      - description: Customer used to scope drivers license
        in: path
        name: customer_id
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                born_on:
                  description: Birth date of customer on requested drivers license
                  example: 1990-01-01
                  type: string
                city:
                  description: Issuing state for drivers license
                  example: Flint
                  type: string
                country:
                  description: Country that issued drivers license
                  example: US
                  type: string
                expires_on:
                  description: Date that drivers license expires
                  example: 2024-01-01
                  type: string
                line1:
                  description: Street number address associated with drivers license
                  example: 1600 Pennsylvania Ave.
                  nullable: true
                  type: string
                line2:
                  description: Line for additional address information
                  example: 100 Yellow Brick Rd.
                  nullable: true
                  type: string
                name:
                  description: Name of person attached to drivers license
                  example: Don Draper
                  type: string
                number:
                  description: Drivers license number
                  example: '12345'
                  type: string
                subregion:
                  description: Name or abbreviation of region grouped under Country
                    that issued drivers license
                  example: TX
                  type: string
                zip:
                  description: Zip code of drivers license
                  example: 30325
                  type: integer
        description: Details used to create a drivers license
        required: true
      responses:
        '201':
          description: Successfully created Customer drivers license
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
        '422':
          content:
            application/json:
              schema:
                $ref: null
          description: Unprocessable entity
      security:
      - ClientID: []
        ClientSecret: []
      tags:
      - public
    put:
      description: Update Customer drivers license
      operationId: updateCustomerDriversLicense
      parameters:
      - description: Customer used to scope drivers license
        in: path
        name: customer_id
        required: true
        schema:
          type: number
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        description: Details used to update a drivers license
        required: true
      responses:
        '201':
          description: Successfully updated Customer drivers license
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
        '422':
          content:
            application/json:
              schema:
                $ref: null
          description: Unprocessable entity
      tags:
      - public
  /v4/admin/customers/{customer_id}/drivers_license/active:
    get:
      description: Get customers active drivers license
      operationId: getCustomerDriversLicence
      parameters:
      - description: Customer used to scope drivers license
        in: path
        name: customer_id
        required: true
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema: {}
          description: Successfully retrieved Customers drivers license
        '400':
          content:
            application/json:
              schema:
                $ref: null
          description: An invalid request has been detected
        '401':
          content:
            application/json:
              schema:
                $ref: null
          description: User authentication has failed
        '403':
          content:
            application/json:
              schema:
                $ref: null
          description: User authorization has failed
        '404':
          content:
            application/json:
              schema:
                $ref: null
          description: Requested resource does not exist or was not found
        '422':
          content:
            application/json:
              schema:
                $ref: null
          description: Unprocessable Entity
      tags:
      - public
  /v4/admin/customers/{customer_id}/employer:
    get:
      operationId: getAdminCustomerEmployer
      parameters:
      - description: The Customer ID to tie the Employer Information to
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  city:
                    example: Austin
                    type: string
                  country:
                    example: US
                    type: string
                  line1:
                    example: 1234 Whataburger Ln.
                    type: string
                  line2:
                    example: Suite 22
                    type: string
                  links:
                    properties:
                      customer:
                        $ref: null
                  name:
                    example: Whataburger
                    type: string
                  phone_number:
                    example: '5124592222'
                    type: string
                  postal_code:
                    example: '78701'
                    type: string
                  subregion:
                    example: TX
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get a customer's employer information
      tags:
      - Employer Info
    post:
      operationId: postAdminCustomerEmployer
      parameters:
      - description: The Customer ID to tie the Employer Information to
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                city:
                  example: Austin
                  type: string
                country:
                  example: US
                  type: string
                line1:
                  example: 1234 Whataburger Ln.
                  type: string
                line2:
                  example: Suite 22
                  type: string
                name:
                  example: Whataburger
                  type: string
                phone_number:
                  example: '5124592222'
                  type: string
                postal_code:
                  example: '78701'
                  type: string
                subregion:
                  example: TX
                  type: string
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a customer's employer information
      tags:
      - Employer Info
    put:
      operationId: putAdminCustomerEmployer
      parameters:
      - description: The Customer ID to tie the Employer Information to
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates an employer for a customer
      tags:
      - Employer Info
  /v4/admin/customers/{customer_id}/insurance:
    get:
      operationId: getAdminCustomerInsurance
      parameters:
      - description: The id of the customer
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  carrier:
                    example: UnitedHealthCare
                    nullable: true
                    type: string
                  customer_id:
                    example: 110
                    type: integer
                  expires_on:
                    example: 2023-02-13 16:08:34+00:00
                    type: string
                  id:
                    example: 12
                    type: integer
                  image:
                    nullable: true
                    properties:
                      id:
                        example: 323
                        type: integer
                      url:
                        example: https://example.com/image_url.png
                        type: string
                    type: object
                  policy_number:
                    example: GAC56232
                    nullable: true
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Return the current active insurance the customer has
      tags:
      - Insurance
    post:
      operationId: postAdminCustomerInsurance
      parameters:
      - description: the customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                carrier:
                  example: UnitedHealthCare
                  type: string
                expires_on:
                  example: 2023-02-13 16:08:34+00:00
                  type: string
                image:
                  format: binary
                  type: string
                policy_number:
                  example: GAC56232
                  type: string
              required:
              - expires_on
              type: object
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a insurance for a customer
      tags:
      - postAdminCustomerInsurance
    put:
      operationId: updateAdminCustomerInsurance
      parameters:
      - description: the customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                carrier:
                  example: UnitedHealthCare
                  type: string
                expires_on:
                  example: 2023-02-13 16:08:34+00:00
                  type: string
                image:
                  format: binary
                  type: string
                policy_number:
                  example: GAC56232
                  type: string
              required:
              - expires_on
              type: object
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update insurance for a customer
      tags:
      - updateAdminCustomerInsurance
  /v4/admin/customers/{customer_id}/notes:
    get:
      operationId: getAdminDealershipCustomerNotes
      parameters:
      - description: The id of the customer
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: Number of records returned in a collection in the response
        in: query
        name: per_page
        required: false
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  items:
                    properties:
                      author:
                        example: Yu Song
                        type: string
                      content:
                        example: My notes content
                        type: string
                      id:
                        example: 12
                        type: integer
                      updated_at:
                        example: 2023-02-13 16:08:34+00:00
                        type: string
                  type: array
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Notes associated with a customer wthin the dealership
      tags:
      - Notes
    post:
      operationId: postAdminDealershipCustomerNote
      parameters:
      - description: the customer ID
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                content:
                  description: Content of the note
                  example: My awesome content
                  type: string
                title:
                  description: Title of the note
                  example: My title
                  type: string
              required:
              - content
              type: object
        required: true
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of created customer
                example: https://api.dw-tst.com/customers/34/notes
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new note for a customer associated with a dealership
      tags:
      - Notes
  /v4/admin/customers/{customer_id}/notes/{id}:
    delete:
      description: delete Note per Customer per dealership
      operationId: deleteDealershipCustomerNotes
      parameters:
      - description: The id of the customer
        in: path
        name: customer_id
        required: true
        schema:
          type: integer
      - description: The id of the note
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: Successful Note deletion
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deletes a single note associated with the id passed in URL of request.
      tags:
      - Note
  /v4/admin/customers/{id}/payment_methods:
    get:
      operationId: getAdminCustomerCreditCards
      parameters:
      - description: The id of the customer
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    card_type:
                      description: Type of credit card
                      example: Mastercard
                      type: string
                    default:
                      description: Indication of whether or not the given card is
                        the customer's default
                      example: true
                      type: boolean
                    expires_on:
                      description: Expiration date of the credit card
                      example: 2025-09-24
                      type: string
                    id:
                      description: Payment method ID
                      example: 123
                      type: integer
                    last_four:
                      description: Last four digits of the credit card
                      example: '1111'
                      type: string
                    links:
                      properties:
                        customer:
                          $ref: null
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the Payment Methods belonging to the given Customer
      tags:
      - Contracts
      - Invoicing
  /v4/admin/dealerships:
    get:
      operationId: getDealerships
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    formatted_hours:
                      example: Mon - Sun 12:00am - 11:59pm
                      type: string
                    has_ccs:
                      example: true
                      type: boolean
                    id:
                      example: 123
                      type: integer
                    name:
                      example: Car Dealership of North Anywhere
                      type: string
                    onboarding_complete:
                      example: true
                      type: boolean
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the Dealership objects available to the authenticated user
      tags:
      - Dealerships
  /v4/admin/dealerships/search:
    get:
      operationId: getDealershipSearch
      parameters:
      - description: Query parameter representing a search for a Dealership's name
        in: query
        name: q
        required: true
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the Dealership objects available to the authenticated user,
        whose names also match the query string
      tags:
      - Dealerships
  /v4/admin/dealerships/{dealership_id}/customers:
    delete:
      description: delete Customers per dealership
      operationId: deleteDealershipCustomers
      parameters:
      - description: The id of the dealership
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: One or more customer ids sent in body of request
        in: query
        name: customer_ids
        required: true
        schema:
          items:
            example:
            - str1
            - str2
            - str3
            type: string
          type: array
      responses:
        '204':
          description: Successful Customer deletion
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deletes the list of Customers associated with the id's passed in body
        of request.
      tags:
      - Customers
    get:
      operationId: getAdminDealershipCustomers
      parameters:
      - description: The id of the dealership
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: The sort order for each sort field MUST be ascending unless it
          is prefixed with a minus (U+002D HYPHEN-MINUS, "-"), in which case it MUST
          be descending.
        in: query
        name: sort
        required: false
        schema:
          enum:
          - amount_due
          - email
          - first_name
          - last_name
          type: string
      - description: Filter customers to those that have or have no amount due
        in: query
        name: amount_due
        required: false
        schema:
          type: boolean
      - description: Number of records returned in a collection in the response
        in: query
        name: per_page
        required: false
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'first_name, last_name, email, phone_number, amount_due,
                    complete_profile

                    John, Cena, youcantseeme@gmail.com, 5124592222, 23.12, true

                    '
              schema:
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Customers associated with a dealership
      tags:
      - Customers
    post:
      operationId: postAdminDealershipCustomer
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of created customer
                example: https://api.dw-tst.com/customers/34
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new customer associated with a dealership
      tags:
      - Customers
  /v4/admin/dealerships/{dealership_id}/customers/messages/profiles:
    post:
      operationId: postAdminDealershipCustomerMessage
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                phone_number:
                  example: 5121111111
                  type: string
              required:
              - phone_number
              type: object
        required: true
      responses:
        '201':
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Sends an SMS to a new/existing Customer to create/update their Customer
        profile
      tags:
      - Customers
  /v4/admin/dealerships/{dealership_id}/customers/search:
    get:
      operationId: getAdminDealershipCustomersSearch
      parameters:
      - description: The id of the dealership
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: Query parameter to search against indexed fields on a Customer
        in: query
        name: q
        required: true
        schema:
          type: string
      - description: Number of records returned in a collection in the response
        in: query
        name: per_page
        required: false
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Customers associated with a dealership based on
        search query
      tags:
      - Customers
  /v4/admin/dealerships/{dealership_id}/employees/{id}:
    get:
      operationId: getEmployee
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: the employee ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  active:
                    example: true
                    type: boolean
                  confirmed:
                    example: false
                    type: boolean
                  email:
                    example: dana.scully@fbi.gov
                    type: string
                  first_name:
                    example: Dana
                    type: string
                  id:
                    example: 42
                    type: integer
                  last_name:
                    example: Scully
                    type: string
                  phone_number:
                    example: '8002255324'
                    type: string
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns an employee's profile details
      tags:
      - Employees
    put:
      operationId: putEmployee
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: The id of the employee
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                first_name:
                  example: Dana
                  type: string
                last_name:
                  example: Scully
                  type: string
                phone_number:
                  example: '8002255324'
                  type: string
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update an Employee's details
      tags:
      - Employees
  /v4/admin/dealerships/{dealership_id}/employees/{id}/activations:
    delete:
      operationId: deleteEmployeeActivation
      parameters:
      - description: The id of the employee
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deactivate an Employee
      tags:
      - Employees
    post:
      operationId: postEmployeeActivation
      parameters:
      - description: The id of the employee
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Activate an Employee
      tags:
      - Employees
  /v4/admin/dealerships/{dealership_id}/employees/{id}/roles:
    get:
      operationId: getDealershipEmployeeRoles
      parameters:
      - description: the employee ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    id:
                      example: 123
                      type: integer
                    name:
                      example: location_manager
                      type: string
                  type: object
                type: array
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns an employee's roles for a dealership
      tags:
      - Employees
      - Roles
    put:
      operationId: putDealershipEmployeeRoles
      parameters:
      - description: the employee ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                properties:
                  id:
                    description: id of the role to be made active for the employee
                    example: 42
                    type: integer
                type: object
              type: array
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update an employee's roles for a dealership
      tags:
      - Employees
      - Roles
  /v4/admin/dealerships/{dealership_id}/fleet_settings/{id}:
    get:
      operationId: getVehicleGroupDeFleetSettings
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: the fleet ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  fleet_id:
                    example: 150494
                    nullable: false
                    type: integer
                  misc:
                    type: object
                  name:
                    example: Courtesy Group
                    nullable: false
                    type: string
                  repair_order_number_required:
                    example: true
                    nullable: false
                    type: boolean
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns mileage threshold and days until removal for a specific/selected
        fleet of the current dealership
      tags:
      - FleetSettings
    put:
      operationId: putFleetSettingsRemoveFromFleet
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: the fleet ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                misc:
                  properties:
                    defleet_settings:
                      properties:
                        defleetLimitWarning:
                          properties:
                            notify_days:
                              example: 30
                              nullable: false
                              type: integer
                            notify_miles:
                              example: 500
                              nullable: false
                              type: integer
                          type: object
                        defleet_limit:
                          properties:
                            defleet_days:
                              example: 30
                              nullable: true
                              type: integer
                            defleet_milage:
                              example: 10000
                              nullable: true
                              type: integer
                          type: object
                        defleet_limit_by_vehicle:
                          items:
                            properties:
                              days:
                                example: 32
                                nullable: true
                                type: integer
                              make:
                                example: Toyota
                                nullable: true
                                type: string
                              mileage:
                                example: 80000
                                nullable: true
                                type: integer
                              model:
                                example: Corolla
                                nullable: true
                                type: string
                            type: object
                          type: array
                      type: object
                  type: object
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the current fleet's fleet_settings for removing from fleet.
      tags:
      - FleetSettings
  /v4/admin/dealerships/{dealership_id}/fleets/trim_types_in_fleets:
    get:
      description: Returns a given dealerships vehicle trims for all her fleets
      operationId: getDealershipTrimTypesInFleets
      parameters:
      - description: the dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    fleet_id:
                      example: 104
                      nullable: false
                      type: integer
                    name:
                      example: Fleet 1
                      nullable: false
                      type: string
                    trims:
                      items:
                        properties:
                          count:
                            example: 104
                            nullable: true
                            type: string
                          make:
                            example: Ford
                            nullable: true
                            type: string
                          model:
                            example: F-150
                            nullable: true
                            type: string
                          trim_id:
                            example: 1
                            nullable: false
                            type: integer
                        type: object
                      nullable: true
                      type: array
                  type: object
                type: array
          description: Success
        '400':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a given dealerships vehicle trims for all her fleets
      tags:
      - Fleets
  /v4/admin/dealerships/{id}:
    get:
      operationId: getDealership
      parameters:
      - description: numeric id of the requested dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  address:
                    items:
                      properties:
                        city:
                          example: Gutmannfurt
                          type: string
                        country:
                          example: US
                          type: string
                        google_reference_id:
                          example: 12
                          nullable: true
                          type: integer
                        latitude:
                          example: 127.11
                          nullable: true
                          type: number
                        line1:
                          example: 5807 Berniece Center
                          type: string
                        line2:
                          example: Apt. 806
                          nullable: true
                          type: string
                        longitude:
                          example: 142.67
                          nullable: true
                          type: number
                        subregion:
                          example: Montana
                          type: string
                        zip:
                          example: '18217'
                          type: string
                      type: object
                  contract_required:
                    type: boolean
                  dealership_hours:
                    items:
                      properties:
                        close_hour:
                          example: 23
                          type: integer
                        close_minute:
                          example: 59
                          type: integer
                        day_of_week:
                          example: 0
                          type: integer
                        open_hour:
                          example: 0
                          type: integer
                        open_minute:
                          example: 0
                          type: integer
                      type: object
                    type: array
                  email:
                    example: admin@example.com
                    type: string
                  formatted_hours:
                    example: Mon - Sun 12:00am - 11:59pm
                    type: string
                  has_css:
                    type: boolean
                  has_tolls:
                    type: boolean
                  id:
                    example: 123
                    type: integer
                  insurance_form_provider:
                    example: PDP
                    type: string
                  locale:
                    example: en-US
                    type: string
                  name:
                    example: Car Dealership of North Anywhere
                    type: string
                  onboarding_complete:
                    example: false
                    type: boolean
                  open_days:
                    items:
                      properties:
                        closing:
                          example: 1320
                          type: string
                        day:
                          example: 0
                          type: integer
                        open:
                          example: true
                          type: boolean
                        opening:
                          example: 660
                          type: string
                      type: object
                    type: array
                  pdp:
                    type: boolean
                  phone_number:
                    example: '3059525963'
                    type: string
                  salesforce_id:
                    example: abc012DEF345ghi678
                    type: string
                  time_zone:
                    example: America/Chicago
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the requested dealership object to the authenticated user
      tags:
      - Dealerships
    put:
      operationId: putDealership
      parameters:
      - description: numeric id of the requested dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  example: john.doe@silvercar.com
                  type: string
                fleet_settings:
                  items:
                    properties:
                      fleet_id:
                        example: 123
                        type: integer
                      repair_order_number_required:
                        description: whether or not this fleet is a repair order number
                          required field
                        example: true/false
                        type: boolean
                    type: object
                  type: array
                name:
                  example: Dealership 1
                  type: string
                onboarding_complete:
                  example: false
                  type: boolean
                phone_number:
                  example: (555) 123-4567
                  type: string
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates the Dealership
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/address:
    get:
      operationId: getDealershipAddress
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  city:
                    example: North Miami
                    type: string
                  country:
                    example: US
                    type: string
                  id:
                    example: 123
                    type: integer
                  line1:
                    example: 1995 NE 142nd St.
                    type: string
                  line2:
                    example: Suite 22
                    type: string
                  links:
                    properties:
                      dealership:
                        $ref: null
                  postal_code:
                    example: 33134
                    type: integer
                  subregion:
                    example: FL
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the dealership address
      tags:
      - Dealerships
    put:
      operationId: putDealershipAddress
      parameters:
      - description: numeric id of the requested dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema: {}
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates the dealership address
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/availability/intervals:
    get:
      operationId: getDealershipAvailabilityIntervals
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    active_vehicle_count:
                      description: The count of active vehicles for the dealership
                      example: 30
                      type: integer
                    available:
                      description: True if there is availability for this interval,
                        false otherwise
                      type: boolean
                    end_at:
                      description: The beginning of the interval
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                    required_vehicle_count:
                      description: The count of minimum vehicles required to service
                        all bookings within a time range
                      example: 10
                      type: integer
                    start_at:
                      description: The beginning of the interval
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability for all cars in a dealership by 30-minute interval
        for every interval between start and end, inclusive
      tags:
      - Dealerships
      - Availability
  /v4/admin/dealerships/{id}/availability/intervals/continuous:
    get:
      operationId: getDealershipAvailabilityIntervalsContinuous
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of reservation, which availability
          is calculated from
        in: query
        name: reservation_start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability from a static start time for all cars in a dealership
        by 30-minute interval for every interval between start and end, inclusive
      tags:
      - Dealerships
      - Availability
  /v4/admin/dealerships/{id}/availability/intervals/continuous/daily:
    get:
      operationId: getDealershipAvailabilityIntervalsContinuousDaily
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of reservation, which availability
          is calculated from
        in: query
        name: reservation_start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 00:00:00+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-21 00:00:00+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability from a static start time for all cars in a dealership
        by day for every day between start and end, inclusive
      tags:
      - Dealerships
      - Availability
  /v4/admin/dealerships/{id}/availabiliy/intervals/daily:
    get:
      operationId: getDealershipAvailabilityIntervalsDaily
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 00:00:00+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-21 00:00:00+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability for all cars in a dealership by day for every day
        between start and end, inclusive
      tags:
      - Dealerships
      - Availability
  /v4/admin/dealerships/{id}/calendar/contracts:
    get:
      operationId: getDealershipCalendarContracts
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Include only Contracts with these statuses (booked, cancelled,
          pending_agreement, started, finished or no_showed)
        in: query
        name: status_in
        required: false
        schema:
          items:
            example: booked,cancelled
            type: string
          type: array
      - description: Include Contracts that are not in these statuses (booked, cancelled,
          pending_agreement, started, finished or no_showed)
        in: query
        name: status_not_in
        required: false
        schema:
          items:
            example: started
            type: string
          type: array
      - description: Include Contracts created after or on this date and time
        in: query
        name: start_at
        required: false
        schema:
          example: 2020-06-15 20:22:26+00:00
          format: date-time
          type: string
      - description: Include Contracts created before or on this date and time
        in: query
        name: end_at
        required: false
        schema:
          example: 2020-06-15 20:22:26+00:00
          format: date-time
          type: string
      - description: A string containing the from date and to date separated by a
          comma
        in: query
        name: occurs_during
        required: false
        schema:
          example: 2020-06-15T20:22:26Z,2020-07-15T20:22:26Z
          type: string
      - description: Comma separated list of integers (Fleet ID)
        in: query
        name: fleet_ids
        required: false
        schema:
          example: 1,2
          items:
            type: number
          type: array
      - description: Include Contracts with this Agreement ID
        in: query
        name: agreement_id
        required: false
        schema:
          example: 1
          type: number
      - description: Include Contracts with this type (loaner or rental)
        in: query
        name: types
        required: false
        schema:
          example: loaner
          items:
            type: string
          type: array
      - description: The page to be fetched, by default 1
        in: query
        name: page
        required: false
        schema:
          type: number
      - description: Number of items per page to be fetched, by default 30
        in: query
        name: per_page
        required: false
        schema:
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    actual_dropoff_at:
                      example: 2022-11-15 12:01:40-05:00
                      nullable: true
                      type: string
                    actual_pickup_at:
                      example: 2022-11-15 12:01:40-05:00
                      nullable: true
                      type: string
                    agreement:
                      properties:
                        id:
                          example: 1
                          type: number
                        insurance_form:
                          description: Custom, Arrowhead, PDP, Sedgwick, SedgwickCdw
                            or AutoNation
                          example: Custom
                          type: string
                      type: object
                    calendar_group:
                      description: Either scheduled or unscheduled
                      example: unscheduled
                      type: string
                    contract_type:
                      description: This is either a contract or reservation
                      example: contract
                      type: string
                    created_at:
                      example: 2022-11-15 12:01:40-05:00
                      type: string
                    customer:
                      properties:
                        customer_profile_complete:
                          description: true if the Customer has completed their online
                            profile
                          type: boolean
                        full_name:
                          example: Sally Smith
                          type: string
                        id:
                          example: 1
                          type: number
                      type: object
                    fleet_id:
                      example: 2
                      type: number
                    has_valet_task:
                      description: true if the Contract has at least one valet task
                      example: true
                      type: boolean
                    id:
                      example: 1
                      type: number
                    repair_order:
                      example: abc123
                      nullable: true
                      type: string
                    scheduled_dropoff_at:
                      example: 2022-11-15 12:01:40-05:00
                      type: string
                    scheduled_pickup_at:
                      example: 2022-11-15 12:01:40-05:00
                      type: string
                    service_advisor:
                      example: Ted Smith
                      nullable: true
                      type: string
                    service_vehicle_id:
                      example: 123abc
                      nullable: true
                      type: string
                    status:
                      description: booked, cancelled, pending_agreement, started,
                        finished or no_showed
                      example: booked
                      type: string
                    task_ids:
                      example:
                      - 1
                      - 2
                      items:
                        type: number
                      type: array
                    vehicle_id:
                      example: 1
                      nullable: true
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a paginated list of Reservations or Contracts for a Dealership
        Calendar
      tags:
      - Dealerships
      - Contracts
  /v4/admin/dealerships/{id}/calendar/vehicles:
    get:
      operationId: getDealershipCalendarVehicles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The sort order for each sort field MUST be ascending unless it
          is prefixed with a minus (U+002D HYPHEN-MINUS, "-"), in which case it MUST
          be descending.
        in: query
        name: sort
        required: false
        schema:
          $ref: null
      - description: Filter vehicles results to those that belong to these fleet ids
        in: query
        name: fleet_ids
        required: false
        schema:
          items:
            type: integer
          type: array
      - description: Filter vehicles to those that are either active or inactive
        in: query
        name: active
        required: false
        schema:
          type: boolean
      - description: Comma separated list of states (in_prep staged returned)
        in: query
        name: status
        required: false
        schema:
          items:
            example: staged
            type: string
          type: array
      - description: Find Vehicles with mileage in kilometers greater than or equal
          to mileage_min
        in: query
        name: mileage_min
        required: false
        schema:
          type: number
      - description: Find Vehicles with mileage in kilometers less than or equal to
          mileage_max
        in: query
        name: mileage_max
        required: false
        schema:
          type: number
      - description: The page to be fetched, by default 1
        in: query
        name: page
        required: false
        schema:
          type: number
      - description: Number of items per page to be fetched, by default 30
        in: query
        name: per_page
        required: false
        schema:
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    color:
                      example: Red
                      type: string
                    id:
                      example: 1
                      type: number
                    license:
                      example: 123ABC
                      type: string
                    links:
                      properties:
                        fleet:
                          $ref: null
                        fleets:
                          items:
                            $ref: null
                          type: array
                      type: object
                    make:
                      example: Ford
                      type: string
                    mileage:
                      properties:
                        unit:
                          example: km
                          type: string
                        value:
                          example: 20055.12
                          format: float
                          type: number
                      type: object
                    model:
                      example: Focus
                      type: string
                    status:
                      example: rented
                      type: string
                    stock_number:
                      example: 1234567
                      type: string
                    vin:
                      example: 1FADP3K2XJL234567
                      type: string
                    year:
                      example: 2018
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a paginated list of Vehicle objects for the Calendar
      tags:
      - Dealerships
      - Vehicles
  /v4/admin/dealerships/{id}/contracts/manifest:
    get:
      operationId: getAdminDealershipContracts
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The sort order for each sort field MUST be ascending unless it
          is prefixed with a minus (U+002D HYPHEN-MINUS, "-"), in which case it MUST
          be descending.
        in: query
        name: sort
        required: false
        schema:
          enum:
          - actual_pickup_at
          - created_at
          - status
          type: string
      - description: Filter contracts to those that are open or closed today. Default
          (no value) returns both.
        in: query
        name: open
        required: false
        schema:
          type: boolean
      - description: Number of records returned in a collection in the response
        in: query
        name: per_page
        required: true
        schema:
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    actual_dropoff_at:
                      description: time at which the vehicle was dropped off, also
                        indicates the contract finish time
                      example: 2020-06-17 20:12:26+00:00
                      format: date-time
                      nullable: true
                      type: string
                    actual_pickup_at:
                      description: time at which the vehicle was picked up, also indicates
                        the contract start time
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      nullable: true
                      type: string
                    ccpa:
                      description: Customers CCPA status, deleted or not deleted
                      example: true
                      type: boolean
                    confirmation_token:
                      description: also referred to as contract id
                      example: 7713738FG3
                      type: string
                    contactless:
                      description: determines whether a contract's agreement is being
                        signed contactlessly or not
                      example: true
                      type: boolean
                    created_at:
                      description: time at which the contract was created
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                    customer_name:
                      description: first and last name of the customer linked to the
                        contract
                      example: Fox Mulder
                      nullable: true
                      type: string
                    customer_profile_complete:
                      description: indication of whether the customer's profile is
                        complete and eligible to start a contract
                      example: true
                      nullable: true
                      type: boolean
                    days_on_loan:
                      description: number of days the vehicle has been out on loan
                        (diff between now and actual_pickup_at, rounded up)
                      example: 4
                      nullable: true
                      type: integer
                    fleet_name:
                      description: The name of the vehicle group that is assigned
                        to the contract
                      example: Courtesy
                      type: string
                    id:
                      description: database id of the contract
                      example: 42
                      type: integer
                    links:
                      properties:
                        customer:
                          allOf:
                          - $ref: null
                          nullable: true
                        employee:
                          allOf:
                          - $ref: null
                          nullable: true
                        fleet:
                          allOf:
                          - $ref: null
                        vehicle:
                          allOf:
                          - $ref: null
                          nullable: true
                      type: object
                    repair_order:
                      description: linked repair order number, if present
                      example: ABC123
                      nullable: true
                      type: string
                    scheduled_dropoff_at:
                      description: the time the customer has scheduled to drop off
                        the vehicle
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                    scheduled_pickup_at:
                      description: the time the customer has scheduled to pick up
                        the vehicle
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                    service_advisor_name:
                      description: first and last name of the service advisor linked
                        to contract
                      example: Walter Skinner
                      nullable: true
                      type: string
                    signed:
                      description: indicates whether or not the contract has been
                        signed
                      example: true
                      type: boolean
                    status:
                      description: current state of the contract
                      enum:
                      - booked
                      - cancelled
                      - pending_agreement
                      - started
                      - finished
                      - no_showed
                      nullable: true
                      type: string
                    vehicle_license:
                      description: the attached vehicle's license plate number, nil
                        if no vehicle attached
                      example: ABC 123
                      nullable: true
                      type: string
                    vehicle_make:
                      description: the automobile manufacturer
                      example: Audi
                      nullable: true
                      type: string
                    vehicle_model:
                      description: the vehicle model name
                      example: A2
                      nullable: true
                      type: string
                    vehicle_stock_number:
                      description: the attached vehicle's stock number, nil if no
                        vehicle attached
                      example: ABC123
                      nullable: true
                      type: string
                    vehicle_year:
                      description: the year the vehicle was manufactured
                      example: 2022
                      nullable: true
                      type: integer
                    vin:
                      description: the attached vehicle's VIN, nil if no vehicle attached
                      example: 1G1JC524417418958
                      nullable: true
                      type: string
                  type: object
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'Contract ID, Status, Stock #, License, VIN, Contract Start,
                    Days On Contract, Repair Order, Service Vehicle Number, Service
                    Advisor, Customer, Profile

                    ADB4764B92, started, BY123FORD, ABC 123, 1G1JC524417418958, 10/21/2020
                    3:21 PM EDT, 7, 32423, 123, John Smith, Mitch Hedburg, TRUE

                    '
              schema:
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the manifest scope (open or closed today) of contracts for a
        dealership
      tags:
      - Contracts
  /v4/admin/dealerships/{id}/contracts/manifest/search:
    get:
      operationId: getAdminDealershipContractsSearch
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Query parameter to search against indexed fields on Contract
        in: query
        name: q
        required: true
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Query the manifest scope (open and closed today) of contracts for a
        dealership
      tags:
      - Contracts
  /v4/admin/dealerships/{id}/contracts/manifest/today:
    get:
      operationId: getAdminDealershipContractsManifestToday
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Filters contracts to those that are requested. Default (no value)
          returns all.
        in: query
        name: filter
        required: false
        schema:
          enum:
          - all
          - pickup
          - dropoff
          - pickup_dropoff
          type: string
      - description: Number of records returned in a collection in the response.
        in: query
        name: per_page
        required: false
        schema:
          default: 30
          type: integer
      - description: Page number returned from the collection based on the total records
          and records per response
        in: query
        name: page
        required: false
        schema:
          default: 1
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the manifest scope of contracts for a dealership with a pickup/dropoff
        time of the current day
      tags:
      - Contracts
  /v4/admin/dealerships/{id}/employees:
    get:
      operationId: getAdminDealershipEmployees
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The sort order for each sort field MUST be ascending unless it
          is prefixed with a minus (U+002D HYPHEN-MINUS, "-"), in which case it MUST
          be descending.
        in: query
        name: sort
        required: false
        schema:
          enum:
          - confirmed
          - email
          - first_name
          type: string
      - description: Filter employees to those that are either active or inactive
        in: query
        name: active
        required: false
        schema:
          type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'first_name, last_name, email, phone_number, active, confirmed

                    Dana, Scully, dana.scully@fbi.gov, 8002255324, true, true

                    '
              schema:
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Employees associated with a dealership
      tags:
      - Employees
    post:
      operationId: postAdminDealershipEmployee
      parameters:
      - description: the dealership ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  example: dana.scully@fbi.gov
                  type: string
                first_name:
                  example: Dana
                  type: string
                last_name:
                  example: Scully
                  type: string
                phone_number:
                  example: '8002255324'
                  type: string
              required:
              - first_name
              - last_name
              - email
              type: object
        required: true
      responses:
        '201':
          description: Success
          headers:
            Location:
              schema:
                description: Link location of created employee
                example: https://api.dw-tst.com/dealerships/42/employees/99
                type: string
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new employee associated with a dealership
      tags:
      - Employees
  /v4/admin/dealerships/{id}/employees/search:
    get:
      operationId: getAdminDealershipEmployeesSearch
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Query parameter to search against indexed fields on Vehicle
        in: query
        name: q
        required: true
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Employees associated with a dealership based on
        search query
      tags:
      - Employees
  /v4/admin/dealerships/{id}/fleets:
    get:
      operationId: getDealershipFleets
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Filter results to include empty fleets. Defaults to including
          all fleets, including empty
        in: query
        name: include_empty
        required: false
        schema:
          type: boolean
      - description: Filter all fleets that are allowed to start a contract. Defaults
          to false.
        in: query
        name: contractable
        required: false
        schema:
          type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    agreement_id:
                      description: the ID of the agreement to assign to the fleet
                      example: 5
                      type: number
                    contractable:
                      description: whether or not this fleet is allowed to start a
                        contract
                      example: true/false
                      type: boolean
                    external_availability_group:
                      description: whether the fleet is an external availability group
                      example: false
                      type: boolean
                    id:
                      example: 123
                      type: integer
                    name:
                      example: Loaner
                      type: string
                    pdf_agreement_url:
                      description: the pdf of the agreement to assign to the fleet
                      example: https://www.example.com/agreement.pdf
                      type: string
                    program_type:
                      description: A string representing the type of program the fleet
                        is in (courtesy, rental, etc)
                      example: rental
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Fleet objects associated with a dealership
      tags:
      - Dealerships
    post:
      description: 'Note: Also creates non-configurable BillableItem adjustments for
        fleet.'
      operationId: postDealershipFleets
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                agreement_id:
                  description: the ID of the agreement to assign to the fleet
                  example: 5
                  type: number
                name:
                  example: Loaner
                  type: string
                program_type:
                  description: A string representing the type of program the fleet
                    is in (courtesy, rental, etc)
                  example: rental
                  type: string
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a new fleet associated with a dealership
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/fleets/contracts_vehicles:
    get:
      operationId: getAdminDealershipFleetsContractsAndVehicles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the range to fetch contracts for
          (inclusive)
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 00:00:00+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the range to fetch contracts for
          (inclusive)
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-21 00:00:00+00:00
          format: date-time
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  vehicle_groups:
                    items:
                      properties:
                        contracts:
                          items:
                            properties:
                              actual_dropoff_at:
                                example: 2022-08-10 14:15:30+00:00
                                format: date-time
                                nullable: true
                                type: string
                              actual_pickup_at:
                                example: 2022-05-19 16:22:26+00:00
                                format: date-time
                                nullable: true
                                type: string
                              customer:
                                properties:
                                  full_name:
                                    description: the full name of the customer associated
                                      with this reservation
                                    example: Frodo Baggins
                                    type: string
                                  id:
                                    description: the ID of the customer associated
                                      with this reservation
                                    example: 1
                                    type: number
                                type: object
                              id:
                                description: ID of the contract
                                example: 1
                                type: number
                              scheduled_dropoff_at:
                                example: 2022-08-10 14:15:30+00:00
                                format: date-time
                                type: string
                              scheduled_pickup_at:
                                example: 2022-05-19 16:22:26+00:00
                                format: date-time
                                type: string
                              status:
                                description: the status of the contract
                                example: pending
                                type: string
                              vehicle_id:
                                description: the ID of the vehicle associated with
                                  this contract, null if no vehicle is yet assigned
                                example: 1
                                nullable: true
                                type: number
                            type: object
                          type: array
                        id:
                          description: ID of the vehicle group
                          example: 1
                          type: number
                        vehicles:
                          items:
                            properties:
                              id:
                                description: the ID of the vehicle
                                example: 1
                                type: number
                              trim:
                                properties:
                                  make:
                                    example: Toyota
                                    type: string
                                  model:
                                    example: Corolla
                                    type: string
                                  year:
                                    example: 1999
                                    type: number
                                type: object
                            type: object
                          type: array
                      type: object
                    type: array
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the fleets for a location, along with the contracts (within the
        given time range, all statuses) and vehicles for each
      tags:
      - Contracts
      - Dealerships
      - Fleets
      - Vehicles
  /v4/admin/dealerships/{id}/kpis:
    post:
      operationId: getDealershipKpis
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                end_date:
                  description: 'The last date in the range. Format: YYYY-MM-DD, default
                    value is current date'
                  example: 2022-11-01
                  format: date
                  type: string
                kpi_types:
                  example:
                  - avg_length_of_loan
                  - utilization
                  items:
                    description: List of expected KPI in the response
                    type: string
                  type: array
                range_type:
                  description: 'Specify a fixed or custom date range to calculated
                    KPIs value.  Expected values: wtd, mtd, ytd, last_month, custom'
                  example: mtd
                  type: string
                start_date:
                  description: 'The first date in the range. Format: YYYY-MM-DD, only
                    required if specifying a custom period to calcualte a KPI'
                  example: 2022-09-01
                  format: date
                  type: string
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  avg_length_of_loan:
                    example: '4.0'
                    nullable: true
                    type: string
                  avg_length_of_loan_meta:
                    properties:
                      change:
                        description: Percent change since last period
                        example: '0.0167'
                        type: string
                      total_res:
                        description: number of reservations included in the statistic
                        example: 2
                        type: number
                    type: object
                  avg_time_not_in_service:
                    example: '0.00084'
                    nullable: true
                    type: string
                  avg_time_on_lot:
                    example: '0.0031'
                    nullable: true
                    type: string
                  contract_tolls_amount:
                    example: '0.0'
                    nullable: true
                    type: string
                  fuel_consumed_amount:
                    example: '0.0'
                    nullable: true
                    type: string
                  fuel_recovered_percent:
                    example: '0.0'
                    nullable: true
                    type: string
                  program_car_utilization:
                    example: 0.78
                    format: float
                    nullable: true
                    type: number
                  tolls_incurred_amount:
                    example: '0.0'
                    nullable: true
                    type: string
                  utilization:
                    example: 0.9763
                    format: float
                    nullable: true
                    type: number
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the dealership specific or default set of KPIs
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/payment_processors/primary:
    get:
      operationId: getDealershipPaymentProcessorsPrimary
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  name:
                    example: cenpos
                    type: string
                  provider:
                    example: cenpos_us
                    type: string
                  token:
                    example: tyF1Uzyi_HxhLr_ABHaT
                    type: string
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the token and provider name available for the authenticated
        user
      tags:
      - Payment Provider Configuration
  /v4/admin/dealerships/{id}/reports/receivables:
    get:
      description: Get statements with balances greater than zero
      operationId: getDealershipReportReceivables
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Start date in date range
        in: query
        name: start_on
        required: true
        schema:
          example: 2022-10-25
          format: date
          type: string
      - description: End date in date range
        in: query
        name: end_on
        required: true
        schema:
          example: 2022-10-25
          format: date
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Collection of unsettled balances
                items:
                  properties:
                    confirmation_token:
                      type: string
                    contract_finished_at:
                      description: Date contract ended of format YYYY-MM-DD
                      example: 2022-10-25
                      type: string
                    contract_id:
                      type: integer
                    created_at:
                      format: date-time
                      type: string
                    location_id:
                      type: integer
                    name:
                      type: string
                    outstanding_balance:
                      format: float
                      type: number
                    payer_type:
                      type: string
                    phone_number:
                      type: string
                    ro_number:
                      type: string
                    statement_id:
                      type: integer
                    stock_number:
                      type: string
                    transaction_status:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                    vehicle_group_name:
                      type: string
                  type: object
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'ID, Contract Token, Customer Name, RO Number, Disbursed
                    On, Vehicle Group, VIN dc4aa190-d40b-4f3e-9fbe-038369d2f021, 230877b4-55ce-4967-a39f-c60f609fb8e8,
                    Gilberte Hahn, 214, 2021-08-31, Buckridge-Hilll, 17EQW80940K049643

                    '
              schema:
                type: string
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get Dealership Receivables Report Data
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/reports/revenue:
    get:
      description: Get Dealership Report Revenue Data within a given time frame
      operationId: getDealershipReportRevenue
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The first date in the range
        in: query
        name: start_on
        required: true
        schema:
          example: 2021-09-13
          format: date
          type: string
      - description: The final date in the range
        in: query
        name: end_on
        required: true
        schema:
          example: 2021-09-30
          format: date
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Collection of transactions
                items:
                  properties:
                    contract_token:
                      description: Contract ID
                      example: 343ACD
                      type: string
                    customer_name:
                      description: Customer Name
                      example: Harry Potter
                      type: string
                    disbursed_on:
                      description: The date of the settlement like YYYY-MM-DD
                      example: 2021-04-19
                      type: string
                    id:
                      description: Transaction ID of the associated transaction
                      example: eca68n2p
                      type: string
                    itemization:
                      properties:
                        amount:
                          description: Amount
                          example: 200
                          format: double
                          type: number
                        daily_rate:
                          description: Daily rate
                          example: 100
                          format: double
                          type: number
                        fuel:
                          description: Fuel
                          example: 30
                          format: double
                          type: number
                        fuel_service:
                          description: Fuel Service
                          example: 5
                          format: double
                          type: number
                        net_to_dealership:
                          description: Net to Dealership for the data range
                          example: 134.7
                          format: double
                          type: number
                        other:
                          description: Other for the data range
                          example: 145.38
                          format: double
                          type: number
                        payment_processor_fee:
                          description: Braintree fees for the data range
                          example: -4.33
                          format: double
                          type: number
                        taxes:
                          description: Taxes for the data range
                          example: 3.28
                          format: double
                          type: number
                      type: object
                    ro_number:
                      description: RO Number
                      example: 123456
                      type: string
                    vehicle_group:
                      description: Vehicle Group
                      example: Rentals Warranty
                      type: string
                    vin:
                      description: VIN
                      example: 1G1JC524417418958
                      type: string
                  type: object
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'ID, Contract Token, Customer Name, RO Number, Disbursed
                    On, Vehicle Group, VIN dc4aa190-d40b-4f3e-9fbe-038369d2f021, 230877b4-55ce-4967-a39f-c60f609fb8e8,
                    Gilberte Hahn, 214, 2021-08-31, Buckridge-Hilll, 17EQW80940K049643

                    '
              schema:
                type: string
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get Dealership Report Revenue Data
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/reports/revenue/summary:
    get:
      description: Get Dealership Revenue Data Summary within a given time frame
      operationId: getDealershipReportRevenueSummary
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The first date in the range
        in: query
        name: start_on
        required: true
        schema:
          example: 2021-09-13
          format: date
          type: string
      - description: The final date in the range
        in: query
        name: end_on
        required: true
        schema:
          example: 2021-09-30
          format: date
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  daily_rate:
                    description: Daily rate total
                    example: 100
                    format: float
                    type: number
                  fees:
                    description: Total rates
                    example: 1110
                    format: float
                    type: number
                  net_to_dealership:
                    description: Net to Dealership total
                    example: 800
                    format: float
                    type: number
                  other:
                    description: Other charges total
                    example: 10
                    format: float
                    type: number
                  payment_processing_fees:
                    description: Payment processing fees total
                    example: 100
                    format: float
                    type: number
                  taxes:
                    description: Total taxes
                    example: 11
                    format: float
                    type: number
                  tolls:
                    description: Tolls total
                    example: 100
                    format: float
                    type: number
                  transaction_amount:
                    description: Total of transactions amount in the specified data
                      range
                    example: 1000
                    format: float
                    type: number
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get Dealership Report Summary
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/reports/transactions:
    get:
      description: Get Dealership Report Transactions Data within a given time frame
      operationId: getDealershipReportTransactions
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The first date in the range
        in: query
        name: start_on
        required: true
        schema:
          example: 2021-09-13
          format: date
          type: string
      - description: The final date in the range
        in: query
        name: end_on
        required: true
        schema:
          example: 2021-09-30
          format: date
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Collection of transactions
                items:
                  properties:
                    account_name:
                      example: ''
                      type: string
                    created_at:
                      example: 2023-03-29 15:03:27+00:00
                      format: date-time
                      type: string
                    disbursement_date:
                      example: 2022-06-14 00:00:00+00:00
                      format: date-time
                      type: string
                    fleet_id:
                      example: 18368
                      type: integer
                    id:
                      example: 9865144
                      type: integer
                    location_id:
                      example: 3
                      type: integer
                    reservation_confirmation:
                      example: 474B5339FD
                      type: string
                    reservation_dropoff:
                      example: 2022-06-14 21:30:00+00:00
                      format: date-time
                      type: string
                    reservation_id:
                      example: 950403
                      type: integer
                    reservation_pickup:
                      example: 2022-06-13 16:49:31+00:00
                      format: date-time
                      type: string
                    settlement_date:
                      example: 2022-06-13 19:17:32+00:00
                      format: date-time
                      type: string
                    transaction_date:
                      example: 2022-06-13 18:27:38+00:00
                      format: date-time
                      type: string
                    transaction_fee:
                      example: '1.91'
                      type: string
                    transaction_id:
                      example: ez4dvqp8
                      type: string
                    transaction_processor_code:
                      example: '1000'
                      type: string
                    transaction_processor_text:
                      example: Approved
                      type: string
                    transaction_status:
                      example: settled
                      type: string
                    transaction_total:
                      example: '55.0'
                      type: string
                    transaction_type:
                      example: sale
                      type: string
                    updated_at:
                      example: 2023-03-29 15:03:27+00:00
                      format: date-time
                      type: string
                  type: object
                type: array
            text/csv:
              examples:
                csv table:
                  value: 'Transaction ID, Contract ID, Account Name, Code, Code Text,
                    Status, Type, Contract Start, Contract Start Time Zone, Contract
                    Finish, Contract Finish Time Zone, Transaction Date, Transaction
                    Date Time Zone, Settlement Date, Settlement Date Time Zone, Disbursement
                    Date, Disbursement Date Time Zone, Amount, Transaction Fee

                    12webbwg, 9B9E391B27, , 1000, Approved, settled, sale, 2022-07-18
                    15:13:32 UTC, UTC, 2022-07-18 17:00:00 UTC, UTC, 2022-07-18 15:21:36
                    UTC, UTC, 2022-07-18 17:35:32 UTC, UTC, 2022-07-19 00:00:00 UTC,
                    UTC, 98846.59, 2560.61

                    '
              schema:
                type: string
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get Dealership Report Transactions Data
      tags:
      - Dealerships
    post:
      description: Get Filtered and/or Sorted Dealership Report Transactions Data
        within a given time frame
      operationId: getDealershipReportTransactionsFilteredSorted
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The first date in the range
        in: query
        name: start_on
        required: true
        schema:
          example: 2021-09-13
          format: date
          type: string
      - description: The final date in the range
        in: query
        name: end_on
        required: true
        schema:
          example: 2021-09-30
          format: date
          type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                filter:
                  properties:
                    link_operator:
                      enum:
                      - and
                      - or
                      example: and
                      type: string
                    query:
                      items:
                        properties:
                          key:
                            example: status
                            type: string
                          operator:
                            example: contains
                            type: string
                          value:
                            example: settled
                            type: string
                        type: object
                      type: array
                  type: object
                sort:
                  items:
                    properties:
                      field:
                        example: id
                        type: string
                      sort:
                        enum:
                        - asc
                        - desc
                        example: desc
                        type: string
                    type: object
                  type: array
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get Filtered and/or Sorted Dealership Report Transactions Data
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/roles:
    get:
      operationId: getDealershipRoles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the grantable roles for a given dealership
      tags:
      - Roles
  /v4/admin/dealerships/{id}/service_advisors:
    get:
      operationId: getAdminDealershipServiceAdvisors
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    first_name:
                      example: Hugh
                      type: string
                    id:
                      example: 123
                      type: integer
                    last_name:
                      example: Mann
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Service Advisors associated with a dealership
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/settings:
    get:
      operationId: getDealershipSettings
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  created_at:
                    example: 2020-06-15 20:22:26+00:00
                    format: date-time
                    type: string
                  currency_code:
                    example: usd
                    type: string
                  embedded_telematics_provider:
                    example: oem
                    type: string
                  has_tolls:
                    example: true
                    type: boolean
                  links:
                    properties:
                      dealership:
                        $ref: null
                  managed_toggles:
                    example: false
                    type: boolean
                  metric:
                    example: false
                    type: boolean
                  notification_method:
                    enum:
                    - sms
                    - email
                    type: string
                  pickup_and_delivery:
                    description: Pickup and Delivery options
                    properties:
                      enabled:
                        example: true
                        type: boolean
                      radius:
                        example: 1.5
                        format: float
                        type: number
                  prevailing_rate:
                    example: 35
                    type: number
                  task_management_enabled:
                    description: Indicates if the dealership has access to manage
                      the task management feature in web. Managed through Salesforce
                      only.
                    example: true
                    type: boolean
                  telematics_enabled:
                    example: false
                    type: boolean
                  toll_provider:
                    description: Toll Provider information is displayed only when
                      Dealership is subscribed to Tolls service
                    properties:
                      id:
                        example: 1
                        type: string
                      name:
                        example: Verra Mobility
                        type: string
                  updated_at:
                    example: 2020-06-15 20:22:26+00:00
                    format: date-time
                    type: string
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the dealership settings
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/telematics/settings:
    get:
      operationId: getDealershipTelematicsSettings
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  embedded_telematics_provider:
                    example: Toyota
                    type: string
                  telematics_enabled:
                    example: false
                    type: boolean
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the dealership telematics settings
      tags:
      - Telematics
    put:
      operationId: putDealershipTelematicsSettings
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                embedded_telematics_provider:
                  example: Toyota
                  type: string
                telematics_enabled:
                  example: false
                  type: boolean
              required:
              - telematics_enabled
              - embedded_telematics_provider
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates a dealership's telematics settings - Available to customer
        support users only.
      tags:
      - Telematics
  /v4/admin/dealerships/{id}/toggles:
    get:
      operationId: getDealershipToggles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  non_program_agreements:
                    items:
                      properties:
                        agreement_id:
                          description: ID of the associated Agreement
                          example: 2
                          type: number
                        insurance_form:
                          description: the insurance form provider for the Agreement.
                            Can be Customer, PDP, Arrowhead, but not Sedgwick
                          example: Customer
                          type: string
                        toggles:
                          description: array of toggles, using types present on AgreementToggles
                          items:
                            $ref: null
                          type: array
                      type: object
                    type: array
                  program_agreements:
                    items:
                      properties:
                        agreement_id:
                          description: ID of the associated Agreement
                          example: 1
                          type: number
                        insurance_form:
                          description: the insurance form provider for the Agreement
                          example: Sedgwick
                          type: string
                        toggles:
                          description: array of toggles, using types present on ManagedToggles
                          items:
                            $ref: null
                          type: array
                      type: object
                    type: array
                type: object
          description: Success
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all the agreements for a location with their associated toggles
      tags:
      - Toggle Groups
  /v4/admin/dealerships/{id}/uploads:
    post:
      operationId: postDealerOnboardingVehicles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                file:
                  example: a csv file
                  nullable: false
                  type: object
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Bulk onboarding vehicles by uploading a CSV file, and return a list
        of results about success/error
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/uploads/statuses:
    get:
      operationId: postDealerVehiclesCheckingOnboardingStatus
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  failure_cars:
                    items:
                      properties:
                        error:
                          example: 'Error: Invalid VIN: 1'
                          type: string
                        vin:
                          example: 1G1JC5SH8C4100000
                          type: string
                      type: object
                    type: array
                  success_cars:
                    items:
                      properties:
                        color:
                          example: black
                          type: string
                        id:
                          example: 138
                          type: integer
                        license:
                          example: TWW1232
                          type: string
                        license_state:
                          example: CA
                          type: string
                        model_number:
                          example: 8K252A
                          type: string
                        model_year:
                          example: 2012
                          type: integer
                        stock_number:
                          example: 123456
                          type: string
                        vin:
                          example: 1G1JC5SH8C4100000
                          type: string
                        year:
                          example: 2012
                          type: integer
                      type: object
                    type: array
                  total:
                    example: 7
                    type: integer
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Check the status of bulk onboarding vehicles by CSV, and return a big
        chunk of json response of the status
      tags:
      - Dealerships
  /v4/admin/dealerships/{id}/vehicles:
    get:
      operationId: getDealershipVehicles
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The sort order for each sort field MUST be ascending unless it
          is prefixed with a minus (U+002D HYPHEN-MINUS, "-"), in which case it MUST
          be descending.
        in: query
        name: sort
        required: false
        schema:
          $ref: null
      - description: Filter vehicles results to those that belong to these fleet ids
        in: query
        name: fleet_ids
        required: false
        schema:
          items:
            type: integer
          type: array
      - description: Filter vehicles to those that are either active or inactive
        in: query
        name: active
        required: false
        schema:
          type: boolean
      - description: The page to be fetched, by default 1
        in: query
        name: page
        required: false
        schema:
          type: number
      - description: Number of items per page to be fetched, by default 30
        in: query
        name: per_page
        required: false
        schema:
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
            text/csv:
              schema:
                example: 'connected, connected_car_device_firmware, connected_car_device_last_updated,
                  id, license, make, model, odometer_value, odometer_unit, off_lot,
                  physical_location, status, stock_number, toll_tag_number, vin, year

                  true, 281110619:159:11, 2020-06-11T15:08:53Z, 23561, DNL445, Audi,
                  Q5, 20055.12, km, true, Lot A, rented, VV111, HMSJNFDS, 1FT7W2BT4DEB5192,
                  2020

                  '
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a paginated list of Vehicle objects associated with a dealership
      tags:
      - Dealerships
      - Vehicles
    post:
      operationId: postDealershipVehicle
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                available_on:
                  example: 2020-01-01
                  format: date
                  type: string
                color:
                  example: grey
                  type: string
                fleet_ids:
                  example:
                  - 12
                  - 42
                  items:
                    type: integer
                  type: array
                license:
                  example: ABC123
                  type: string
                license_subregion:
                  example: TX
                  type: string
                stock_number:
                  example: VV111
                  type: string
                vin:
                  example: 1FT7W2BT4DEB5192
                  pattern: '[A-HJ-NPR-Z0-9]{17}'
                  type: string
              required:
              - available_on
              - fleet_ids
              - license
              - license_subregion
              - stock_number
              - vin
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a new Vehicle for a Dealership and assigns it to a list of
        Fleets
      tags:
      - Dealerships
      - Fleets
      - Vehicles
  /v4/admin/dealerships/{id}/vehicles/dashboard/vehicle_status:
    get:
      operationId: getVehicleStatusForDashboard
      parameters:
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    hard_hold:
                      example: 8
                      type: integer
                    in_prep:
                      example: 13
                      type: integer
                    maintenance:
                      example: 0
                      type: integer
                    rented:
                      example: 12
                      type: integer
                    returned:
                      example: 5
                      type: integer
                    shuttle:
                      example: 19
                      type: integer
                    staged:
                      example: 52
                      type: integer
                  type: object
                type: array
          description: Success
        '400':
          $ref: null
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the Status for all vehicles at a given dealership on the Dashboard
        tables
      tags:
      - Admin
  /v4/admin/dealerships/{id}/vehicles/search:
    get:
      operationId: getDealershipVehiclesSearch
      parameters:
      - description: Toggle to only include available vehicles in search results,
          defaults to false.
        in: query
        name: available_only
        required: false
        schema:
          type: boolean
      - description: The id of the dealership
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: Query parameter to search against indexed fields on Vehicle
        in: query
        name: q
        required: true
        schema:
          type: string
      - description: The sort order is ascending unless the column name is prefixed
          with a minus (U+002D HYPHEN-MINUS, "-"), in which case it will be descending.
        in: query
        name: sort
        required: false
        schema:
          $ref: null
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the list of Vehicle objects associated with a dealership based
        on search query
      tags:
      - Dealerships
  /v4/admin/drivers/{id}:
    delete:
      operationId: deleteAdminDriver
      parameters:
      - description: The id of the driver
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Delete a Driver
      tags:
      - Drivers
    get:
      operationId: getAdminDriver
      parameters:
      - description: The id of the Driver
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get a Driver's details
      tags:
      - Drivers
    put:
      operationId: putAdminDriver
      parameters:
      - description: The id of the Driver
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update a Driver's details
      tags:
      - Drivers
  /v4/admin/drivers/{id}/signature:
    post:
      operationId: postDriverSignature
      parameters:
      - description: The driver's ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                image:
                  description: Driver Signature Base64 Image
                  example: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wgALCAABAAEBAREA/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQABPxA=
                  format: base64
                  type: string
              required:
              - image
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a Signature Image for the Driver
      tags:
      - Drivers
  /v4/admin/fleets/{id}:
    delete:
      operationId: deleteFleet
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: 'Deletes a fleet. NOTE: Temporarily Disabled. See SC-5730.'
      tags:
      - Fleets
    get:
      operationId: getFleet
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Gets a fleet
      tags:
      - Fleets
    put:
      operationId: putFleet
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates a fleet
      tags:
      - Fleets
  /v4/admin/fleets/{id}/agreement/toggles:
    get:
      operationId: getFleetAgreementToggles
      parameters:
      - description: Fleet id
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Return the Agreement Toggles scoped to the given fleet id
      tags:
      - Agreement Toggles
    post:
      operationId: postFleetAgreementToggle
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new Agreement Toggle for a given fleet
      tags:
      - Agreement Toggles
  /v4/admin/fleets/{id}/agreement/toggles/order:
    put:
      description: Will update the persisted order according to the order of the given
        array
      operationId: putFleetAgreementTogglesOrder
      parameters:
      - description: Fleet id
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                properties:
                  id:
                    example: 123
                    type: integer
                type: object
              type: array
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the printed order of the fleet's Agreement Toggles
      tags:
      - Agreement Toggles
  /v4/admin/fleets/{id}/availability:
    get:
      operationId: getFleetAvailability
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  active_vehicle_count:
                    description: The count of active vehicles in a fleet
                    example: 30
                    type: integer
                  required_vehicle_count:
                    description: The count of minimum vehicles required to service
                      all bookings within a time range
                    example: 10
                    type: integer
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get active fleet size and required vehicles needed within a time range
      tags:
      - Fleets
      - Availability
  /v4/admin/fleets/{id}/availability/intervals:
    get:
      operationId: getFleetAvailabilityIntervals
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    active_vehicle_count:
                      description: The count of active vehicles in a fleet
                      example: 30
                      type: integer
                    available:
                      description: True if there is availability for this interval,
                        false otherwise
                      type: boolean
                    end_at:
                      description: The beginning of the interval
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                    fleet_id:
                      description: The id for this fleet
                      example: 123
                      type: number
                    required_vehicle_count:
                      description: The count of minimum vehicles required to service
                        all bookings within a time range
                      example: 10
                      type: integer
                    start_at:
                      description: The beginning of the interval
                      example: 2020-06-15 20:12:26+00:00
                      format: date-time
                      type: string
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability by 30-minute interval for every interval between start
        and end, inclusive
      tags:
      - Fleets
      - Availability
  /v4/admin/fleets/{id}/availability/intervals/continuous:
    get:
      operationId: getFleetAvailabilityIntervalsContinuous
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of reservation, which availability
          is calculated from
        in: query
        name: reservation_start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability from a static time by 30-minute interval for every
        interval between start and end, inclusive
      tags:
      - Fleets
      - Availability
  /v4/admin/fleets/{id}/availability/intervals/continuous/daily:
    get:
      operationId: getFleetAvailabilityIntervalsContinuousDaily
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of reservation, which availability
          is calculated from
        in: query
        name: reservation_start_at
        required: true
        schema:
          example: 2020-06-15 20:12:26+00:00
          format: date-time
          type: string
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 00:00:00+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-21 00:00:00+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability from a static time by day for every day between start
        and end, inclusive
      tags:
      - Fleets
      - Availability
  /v4/admin/fleets/{id}/availabiliy/intervals/daily:
    get:
      operationId: getFleetAvailabilityIntervalsDaily
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The timestamp for the start of the availability range
        in: query
        name: start_at
        required: true
        schema:
          example: 2020-06-15 00:00:00+00:00
          format: date-time
          type: string
      - description: The timestamp for the end of the availability range
        in: query
        name: end_at
        required: true
        schema:
          example: 2020-06-21 00:00:00+00:00
          format: date-time
          type: string
      - description: If provided, the contract associated with the ID will be excluded
          from availability calculations. This is used for "modify" contract calculations
        in: query
        name: exclude_contract_id
        required: false
        schema:
          example: 12345
          type: number
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get availability by day for every day between start and end, inclusive
      tags:
      - Fleets
      - Availability
  /v4/admin/fleets/{id}/billing/daily_rate:
    get:
      operationId: getFleetDailyRate
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The date to use for the effective_date query (iso 8601)
        in: query
        name: date
        required: false
        schema:
          default: Date.today
          example: 2020-03-17
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the effective Daily Rate object associated with a fleet based
        on the date param provided (defaults to Today)
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/daily_rates:
    get:
      operationId: getFleetDailyRates
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    effective_on:
                      description: Date the option is effective on
                      example: 2020-03-17
                      format: date
                      type: string
                    fleet_id:
                      description: The fleet this option is associated with
                      example: 1
                      type: integer
                    name:
                      description: Name of the option
                      example: Daily Rate
                      type: string
                    taxable:
                      description: Whether or not this option is taxable
                      example: true
                      type: boolean
                    value:
                      description: Monetary amount
                      example: 4.97
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the historical Daily Rate objects associated with a fleet
      tags:
      - Billing
    post:
      operationId: postFleetDailyRates
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                taxable:
                  description: Whether or not this option is taxable
                  example: true
                  type: boolean
                value:
                  description: Monetary amount
                  example: 4.97
                  format: decimal
                  type: number
              required:
              - value
              - taxable
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Daily Rate associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fees:
    get:
      operationId: getFleetBillingFee
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    enabled:
                      example: true
                      type: boolean
                    id:
                      example: 31337
                      type: integer
                    per_day:
                      example: true
                      type: boolean
                    taxable:
                      example: false
                      type: boolean
                    type:
                      description: Fee name, snake case.
                      example: facility
                      type: string
                    value:
                      description: Fee amount
                      example: 4.97
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the current Fees for a fleet
      tags:
      - Billing
    post:
      operationId: createFleetBillingFee
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                per_day:
                  example: true
                  type: boolean
                taxable:
                  example: false
                  type: boolean
                type:
                  enum:
                  - road_safety_program
                  - facility
                  - rental_car_surcharge
                  - transportation
                  - trip
                  - vehicle_license_recovery
                  example: facility
                  type: string
                value:
                  example: 10.4
                  format: decimal
                  type: number
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new fee for a given fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fuel_allowances:
    post:
      operationId: postFleetFuelAllowances
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  description: Monetary amount
                  example: 4.97
                  format: decimal
                  type: number
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Fuel Allowance associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fuel_charge:
    get:
      operationId: getFleetFuelCharge
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The date to use for the effective_date query
        in: query
        name: date
        required: false
        schema:
          default: Date.today
          example: 2020-03-17
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the effective Fuel Charge object associated with a fleet based
        on the date param provided (defaults to Today)
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fuel_charges:
    get:
      operationId: getFleetFuelCharges
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    effective_on:
                      description: Date the option is effective on
                      example: 2020-03-17
                      format: date
                      type: string
                    fleet_id:
                      description: The fleet this option is associated with
                      example: 1
                      type: integer
                    name:
                      description: Name of the option
                      example: Fuel Charge
                      type: string
                    taxable:
                      description: Whether or not this option is taxable
                      example: true
                      type: boolean
                    value:
                      description: Monetary amount
                      example: 4.97
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the historical Fuel Charge objects associated with a fleet
      tags:
      - Billing
    post:
      operationId: postFleetFuelCharges
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                taxable:
                  description: Whether or not this option is taxable
                  example: true
                  type: boolean
                value:
                  description: Monetary amount
                  example: 4.97
                  format: decimal
                  type: number
              required:
              - value
              - taxable
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Fuel Charge associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fuel_service_charge:
    get:
      operationId: getFleetFuelServiceCharge
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The date to use for the effective_date query (iso 8601)
        in: query
        name: date
        required: false
        schema:
          default: Date.today
          example: 2020-03-17
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the effective Fuel Service Charge object associated with a
        fleet based on the date param provided (defaults to Today)
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/fuel_service_charges:
    get:
      operationId: getFleetFuelServiceCharges
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    effective_on:
                      description: Date the option is effective on
                      example: 2020-03-17
                      format: date
                      type: string
                    fleet_id:
                      description: The fleet this option is associated with
                      example: 1
                      type: integer
                    name:
                      description: Name of the option
                      example: Fuel Service Charge
                      type: string
                    taxable:
                      description: Whether or not this option is taxable
                      example: true
                      type: boolean
                    value:
                      description: Monetary amount
                      example: 4.97
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the historical Fuel Service Charge objects associated with
        a fleet
      tags:
      - Billing
    post:
      operationId: postFleetFuelServiceCharges
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                taxable:
                  description: Whether or not this option is taxable
                  example: true
                  type: boolean
                value:
                  description: Monetary amount
                  example: 4.97
                  format: decimal
                  type: number
              required:
              - value
              - taxable
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Fuel Service Charge associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/odometer_charge:
    get:
      operationId: getFleetOdometerCharge
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The date to use for the effective_date query (iso 8601, short)
        in: query
        name: date
        required: false
        schema:
          default: Date.today
          example: 2020-03-17
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  effective_on:
                    description: Date the option is effective on
                    example: 2020-03-17
                    format: date
                    type: string
                  fleet_id:
                    description: The fleet this option is associated with
                    example: 1
                    type: integer
                  name:
                    description: Name of the option
                    example: Odometer Charge
                    type: string
                  taxable:
                    description: Whether or not this option is taxable
                    example: true
                    type: boolean
                  value:
                    description: Dollar amount
                    example: 4.97
                    format: decimal
                    type: number
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the effective Odometer Charge object associated with a fleet
        based on the date param provided (defaults to Today)
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/odometer_charges:
    post:
      operationId: postFleetOdometerCharges
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                taxable:
                  description: Whether or not this option is taxable
                  example: true
                  type: boolean
                value:
                  description: Monetary amount
                  example: 4.97
                  format: decimal
                  type: number
              required:
              - value
              - taxable
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Odometer Charge associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/sales_tax_rate:
    get:
      operationId: getFleetSalesTaxRate
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: The date to use for the effective_date query (iso 8601)
        in: query
        name: date
        required: false
        schema:
          default: Date.today
          example: 2020-03-17
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: null
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the effective Sales Tax Rate object associated with a fleet
        based on the date param provided (defaults to Today)
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/sales_tax_rates:
    get:
      operationId: getFleetSalesTaxRates
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    effective_on:
                      description: Date the option is effective on
                      example: 2020-03-17
                      format: date
                      type: string
                    fleet_id:
                      description: The fleet this option is associated with
                      example: 1
                      type: integer
                    name:
                      description: Name of the option
                      example: Sales Tax Rate
                      type: string
                    unit:
                      description: The unit of the value, which can only be 'km'
                      example: km
                      type: string
                    value:
                      description: Percent value
                      example: 8.2
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the historical Sales Tax Rate objects associated with a fleet
      tags:
      - Billing
    post:
      operationId: postFleetSalesTaxRates
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                value:
                  description: Percent value
                  example: 8.2
                  format: decimal
                  type: number
              required:
              - value
              type: object
        required: true
      responses:
        '201':
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates effective Sales Tax Rate associated with a fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/settings:
    get:
      operationId: getFleetBillingSettings
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  authorization:
                    properties:
                      effective_on:
                        description: Date the authorization is effective on
                        example: 2021-03-11
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this authorization is associated with
                        example: 1
                        type: integer
                      type:
                        description: The type of authorization that will be used for
                          any vehicles in this fleet
                        enum:
                        - contract_estimate
                        - flat_amount
                        - none
                        type: string
                      value:
                        description: The authorization amount
                        example: 123.45
                        format: double
                        type: number
                    type: object
                  charge_customer:
                    description: Whether or not customers will be charged
                    example: true
                    type: boolean
                  daily_by_model_rate:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      rates:
                        items:
                          properties:
                            make:
                              description: Make of a vehicle
                              example: Toyota
                              type: string
                            model:
                              description: Model of a vehicle
                              example: Corolla
                              type: string
                            value:
                              description: Monetary amount
                              example: 4.97
                              format: decimal
                              type: number
                          type: object
                        type: array
                      taxable:
                        description: Whether or not this option is taxable
                        example: true
                        type: boolean
                    type: object
                  daily_rate:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Daily Rate
                        type: string
                      taxable:
                        description: Whether or not this option is taxable
                        example: true
                        type: boolean
                      value:
                        description: Monetary amount
                        example: 4.97
                        format: decimal
                        type: number
                    type: object
                  daily_rate_type:
                    description: Determines the daily rate type for the fleet
                    enum:
                    - daily_rate
                    - daily_by_model_rate
                    type: string
                  daily_surcharge:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2022-11-01
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Daily Surcharge
                        type: string
                      value:
                        description: Dollar amount
                        example: 4.97
                        format: decimal
                        type: number
                    type: object
                  fuel_allowance:
                    description: Monetary amount
                    example: 4.97
                    format: decimal
                    type: number
                  fuel_charge:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Fuel Charge
                        type: string
                      taxable:
                        description: Whether or not this option is taxable
                        example: true
                        type: boolean
                      value:
                        description: Monetary amount
                        example: 4.97
                        format: decimal
                        type: number
                    type: object
                  fuel_service:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Fuel Service Charge
                        type: string
                      taxable:
                        description: Whether or not this option is taxable
                        example: true
                        type: boolean
                      value:
                        description: Monetary amount
                        example: 4.97
                        format: decimal
                        type: number
                    type: object
                  odometer_allowance:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Odometer Allowance
                        type: string
                      unit:
                        description: Unit of the value (km or mi)
                        example: km
                        type: string
                      value:
                        description: 'Distance allowed before surcharge (precision:
                          9, scale: 3)'
                        example: 999.999
                        format: float
                        type: number
                    type: object
                  odometer_charge:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Odometer Charge
                        type: string
                      taxable:
                        description: Whether or not this option is taxable
                        example: true
                        type: boolean
                      value:
                        description: Dollar amount
                        example: 4.97
                        format: decimal
                        type: number
                    type: object
                  sales_tax_rate:
                    properties:
                      effective_on:
                        description: Date the option is effective on
                        example: 2020-03-17
                        format: date
                        type: string
                      fleet_id:
                        description: The fleet this option is associated with
                        example: 1
                        type: integer
                      name:
                        description: Name of the option
                        example: Sales Tax Rate
                        type: string
                      unit:
                        description: The unit of the value, which can only be 'km'
                        example: km
                        type: string
                      value:
                        description: Percent value
                        example: 8.2
                        format: decimal
                        type: number
                    type: object
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the high level fleet billing settings
      tags:
      - Billing
    put:
      operationId: putFleetBillingSettings
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                charge_customer:
                  description: Whether or not customers will be charged
                  example: true
                  type: boolean
                daily_rate_type:
                  example: daily
                  type: string
                fuel_allowance:
                  description: Monetary amount (Send 0 if not set)
                  example: 4.97
                  format: decimal
                  type: number
                odometer_allowance:
                  properties:
                    unit:
                      description: The unit used, which can only be 'km'
                      example: km
                      type: string
                    value:
                      description: 'Number of kilometers allowed before charging an
                        overage (precision: 9, scale: 3)'
                      example: 999.999
                      format: float
                      type: number
                  type: object
              required:
              - charge_customer
              - fuel_allowance
              - odometer_allowance
              type: object
        required: true
      responses:
        '204':
          description: Success/No Content
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates the high level fleet billing settings
      tags:
      - Billing
  /v4/admin/fleets/{id}/billing/taxes:
    get:
      operationId: getFleetBillingTax
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    enabled:
                      example: true
                      type: boolean
                    id:
                      example: 31337
                      type: integer
                    type:
                      description: Tax name, snake case.
                      example: events_venue
                      type: string
                    value:
                      description: Tax percentage
                      example: 4.97
                      format: decimal
                      type: number
                  type: object
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the current taxes for a fleet
      tags:
      - Billing
    post:
      operationId: createFleetBillingTax
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                type:
                  enum:
                  - events_venue
                  - tourism_commission
                  - sales
                  - sports_venue
                  - state_vehicle
                  - county
                  - city
                  - vehicle_rental
                  example: events_venue
                  type: string
                value:
                  example: 10.4
                  format: decimal
                  type: number
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create a new tax for a given fleet
      tags:
      - Billing
  /v4/admin/fleets/{id}/contracts:
    post:
      operationId: postFleetContract
      parameters:
      - description: Header to let us know platform contract was booked on
        in: header
        name: platform
        required: false
        schema:
          type: string
      - description: Header to let us know name of application
        in: header
        name: app_name
        required: false
        schema:
          type: string
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                customer_id:
                  description: The id of the customer who the reservation is for
                  type: integer
                dropoff_at:
                  description: The time the vehicle is expected to be dropped off,
                    in UTC
                  example: 2021-06-15 20:22:26+00:00
                  format: date-time
                  type: string
                pickup_at:
                  description: The time the vehicle is expected to be picked up, in
                    UTC
                  example: 2021-06-19 20:22:26+00:00
                  format: date-time
                  type: string
                repair_order:
                  description: The repair order number, or notes/source of business
                  type: string
                service_advisor_id:
                  description: The id of the service advisor associated with the contract
                  type: integer
                service_vehicle:
                  description: Identifier for vehicle being serviced
                  type: string
                vehicle_id:
                  description: Optional. When included, assigns the corresponding
                    vehicle to this contract after creation
                  type: number
              required:
              - dropoff_at
              - pickup_at
              - customer_id
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a new Contract associated with a Fleet
      tags:
      - Fleets
      - Vehicles
  /v4/admin/fleets/{id}/settings:
    get:
      operationId: getFleetSettings
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  dealer_code:
                    example: DLW123AD
                    type: string
                  default_infleet_group:
                    example: true
                    type: boolean
                  external_availability_group:
                    example: false
                    type: boolean
                  fleet_id:
                    example: 123
                    type: integer
                  minimum_age:
                    example: 21
                    type: integer
                  program_type:
                    description: A string representing the type of program the fleet
                      is in (courtesy, rental, etc)
                    example: rental
                    type: string
                  view_vehicles_under_contract:
                    example: true
                    type: boolean
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Gets a fleet settings instance
      tags:
      - Fleet Settings
    put:
      operationId: putFleetSettings
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                dealer_code:
                  example: DLW123AD
                  type: string
                default_infleet_group:
                  example: true
                  type: boolean
                external_availability_group:
                  example: false
                  type: boolean
                minimum_age:
                  example: 21
                  type: integer
                program_type:
                  example: rental
                  type: string
                view_vehicles_under_contract:
                  example: true
                  type: boolean
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates a fleet settings instance
      tags:
      - Fleet Settings
  /v4/admin/fleets/{id}/vehicles:
    post:
      operationId: postFleetVehicles
      parameters:
      - description: The id of the fleet
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                available_on:
                  example: 2020-01-01
                  format: date
                  type: string
                color:
                  example: grey
                  type: string
                license:
                  example: ABC123
                  type: string
                license_subregion:
                  example: TX
                  type: string
                stock_number:
                  example: VV111
                  type: string
                vin:
                  example: 1FT7W2BT4DEB5192
                  pattern: '[A-HJ-NPR-Z0-9]{17}'
                  type: string
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Creates a new Vehicle associated with a Fleet
      tags:
      - Fleets
      - Vehicles
  /v4/admin/issues/{id}:
    delete:
      operationId: deleteIssue
      parameters:
      - description: The id of the issue
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Deletes an issue
      tags:
      - Issues
  /v4/admin/issues/{id}/resolve:
    put:
      operationId: putIssue
      parameters:
      - description: The id of the issue
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                description:
                  example: Scratches on the passenger door side
                  type: string
              required:
              - description
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  closed_by:
                    description: returns the full name or email of whoever closed
                      the issue
                    example: john.smith@example.net
                    type: string
                  closed_description:
                    example: Buffed out scratches in the shop
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by:
                    description: returns the full name or email of whoever created
                      the issue
                    example: John Smith
                    type: string
                  description:
                    example: Scratches on the passenger door side
                    type: string
                  id:
                    example: 1
                    type: integer
                  image_count:
                    type: number
                  status:
                    example: opened
                    type: string
                  updated_at:
                    format: date-time
                    type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Resolves an issue
      tags:
      - Issues
  /v4/admin/login:
    post:
      operationId: postLogin
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  example: joetoe123@email.com
                  type: string
                password:
                  example: One234567
                  minLength: 8
                  pattern: (?=.*\d)(?=.*[a-z])(?=.*[A-Z])
                  type: string
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  auth_token:
                    example: 1234abcd
                    type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
      summary: Admin login endpoint
      tags:
      - Admin
  /v4/admin/user:
    get:
      operationId: getUser
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  email:
                    example: john.doe@silvercar.com
                    type: string
                  first_name:
                    example: John
                    type: string
                  id:
                    example: 123
                    type: integer
                  language:
                    example: en
                    type: string
                  last_name:
                    example: Doe
                    type: string
                  phone_number:
                    example: '5551234567'
                    type: string
                  show_old_dashboard:
                    example: true
                    type: boolean
                type: object
          description: Success
        '401':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get the currently logged in user
      tags:
      - User
    put:
      operationId: putUser
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  description: will send this address an email to confirm
                  example: john.doe@silvercar.com
                  type: string
                first_name:
                  example: John
                  type: string
                language:
                  example: en
                  type: string
                last_name:
                  example: Doe
                  type: string
                phone_number:
                  example: '5551234567'
                  type: string
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the currently logged in user's details
      tags:
      - User
  /v4/admin/user/dealerships/{dealership_id}/roles:
    get:
      operationId: getUserDealershipRoles
      parameters:
      - description: the dealership id for which you are fetching the user's roles
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the user's roles for a given location
      tags:
      - Dealerships
      - User
  /v4/admin/user/password:
    put:
      operationId: putUserPassword
      requestBody:
        content:
          application/json:
            schema:
              properties:
                password:
                  description: password must include at least one lowercase letter,
                    one uppercase letter, and one digit
                  example: Passw0rd
                  type: string
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the currently logged in user's password
      tags:
      - User
  /v4/admin/user/preferences:
    put:
      operationId: putUserPreference
      requestBody:
        content:
          application/json:
            schema:
              properties:
                interface_config:
                  description: JSON string of the interface config which includes
                    user preferences for dashboards and other interfaces
                  example: '{"dashboard": customers: {{"unsettled_balance":true}}}'
                  nullable: true
                  type: string
                show_old_dashboard:
                  description: boolean value to indicate if the old dashboard should
                    be shown instead of the new dashboard
                  example: true
                  type: boolean
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the currently logged in user's dw-web preferences
      tags:
      - User
  /v4/admin/users/confirmations:
    post:
      description: 'Note: Returns a 204 if confirmation token is not found'
      operationId: postUserConfirmations
      parameters:
      - description: Api-Version
        in: header
        name: Api-Version
        required: true
        schema:
          example: 4
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                password:
                  description: password must include at least one lowercase letter,
                    one uppercase letter, and one digit
                  example: Passw0rd
                  type: string
                token:
                  description: user confirmation token
                  example: tyF1Uzyi_HxhLr_ABHaT
                  type: string
              required:
              - token
              - password
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      summary: Create a user's password, confirm their account
      tags:
      - Users
  /v4/admin/users/password/forgot:
    post:
      description: Send an email to the provided email to reset that user's password
      operationId: postUserPasswordForgot
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  example: john.doe@silvercar.com
                  type: string
              type: object
        required: true
      responses:
        '202':
          $ref: null
      tags:
      - Users
  /v4/admin/users/password/reset:
    put:
      description: 'Note: Returns a 204 if reset password token is not found'
      operationId: putUserPasswordReset
      requestBody:
        content:
          application/json:
            schema:
              properties:
                password:
                  description: password must include at least one lowercase letter,
                    one uppercase letter, and one digit
                  example: Passw0rd
                  type: string
                token:
                  example: tyF1Uzyi_HxhLr_ABHaT
                  type: string
              required:
              - token
              - password
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      summary: Reset a users password with valid reset password token
      tags:
      - Users
  /v4/admin/vehicles/{id}:
    get:
      operationId: getVehicle
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  acriss_code:
                    example: CFAR
                    nullable: true
                    type: string
                  acriss_model_description:
                    example: Compact SUV Automatic With AC
                    nullable: true
                    type: string
                  color:
                    example: Blue
                    nullable: true
                    type: string
                  connected:
                    example: true
                    type: boolean
                  connected_car_device_firmware:
                    example: 281110619:159:11
                    type: string
                  connected_car_device_last_updated:
                    example: 2020-06-11 15:08:53+00:00
                    format: date-time
                    type: string
                  fuel:
                    properties:
                      capacity:
                        example: 20
                        type: number
                      unit:
                        description: will always return L for Liters
                        example: L
                        type: string
                      value:
                        example: 10
                        type: number
                    required:
                    - unit
                    - capacity
                    type: object
                  id:
                    example: 23561
                    type: integer
                  license:
                    example: DNL445
                    type: string
                  links:
                    properties:
                      fleet:
                        $ref: null
                      fleets:
                        items:
                          $ref: null
                        type: array
                  make:
                    example: Audi
                    type: string
                  model:
                    example: Q5
                    type: string
                  odometer:
                    $ref: null
                  off_lot:
                    example: true
                    type: boolean
                  physical_location:
                    example: Lot A
                    type: string
                  status:
                    example: rented
                    type: string
                  stock_number:
                    example: VV111
                    type: string
                  toll_tag_number:
                    example: HMSJNFDS
                    type: string
                  vin:
                    example: 1FT7W2BT4DEB5192
                    type: string
                  year:
                    example: 2020
                    type: integer
                type: object
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns a singular Vehicle object
      tags:
      - Vehicles
    put:
      operationId: putVehicleFleets
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                fleet_id:
                  example: 12
                  type: integer
                fleet_ids:
                  example:
                  - 12
                  - 42
                  items:
                    type: integer
                  type: array
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates a Vehicle's Fleets
      tags:
      - Vehicles
      - Fleets
  /v4/admin/vehicles/{id}/events:
    get:
      operationId: getVehicleEvents
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            text/csv:
              schema:
                example: 'recorded_at, created_at, type, serial_number, gps_age, latitude,
                  longitude, odometer_value, odometer_unit, fuel_percentage, battery_voltage,
                  charge_level

                  2020-06-15T20:12:26Z, 2020-06-15T20:22:26Z, ign_off, 80A182420034,
                  12, 30.440157, -97.7716, 3293.5, km, 12.56, 12.48, 91.05

                  '
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all telematics events for a given vehicle
      tags:
      - Vehicles
  /v4/admin/vehicles/{id}/fleet:
    put:
      operationId: putVehicleFleet
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '204':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Updates a Vehicle's Fleet
      tags:
      - Vehicles
  /v4/admin/vehicles/{id}/issues:
    get:
      operationId: getVehicleIssues
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      - description: page of the resource to fetch
        in: query
        name: page
        required: false
        schema:
          type: integer
      - description: number of records per page
        in: query
        name: per_page
        required: false
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: null
                type: array
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get all issues for a given vehicle (paginated)
      tags:
      - Vehicles
      - Issues
    post:
      operationId: postVehicleIssue
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: null
        required: true
      responses:
        '201':
          $ref: null
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Create new issue for the vehicle
      tags:
      - Vehicles
      - Issues
  /v4/admin/vehicles/{id}/telemetry:
    get:
      operationId: getVehicleTelemetry
      parameters:
      - description: The id of the vehicle
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                event_received_at:
                  description: The timestamp when the telematics provider recorded
                    the event
                  example: 2017-08-11 19:07:04+00:00
                  format: date-time
                  type: string
                fuel:
                  properties:
                    capacity:
                      example: 20
                      type: number
                    unit:
                      example: L
                      type: string
                    value:
                      description: 0.0 indicates no reading was found
                      example: 17.5
                      format: float
                      type: number
                  required:
                  - value
                  - unit
                  - capacity
                  type: object
                odometer:
                  $ref: null
              required:
              - event_received_at
              - fuel
              - odometer
              type: object
        required: true
      responses:
        '200':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Fetch the last recorded telemetry for a given vehicle
      tags:
      - Vehicles
      - Telematics
  /v4/contracts/contactless/{uuid}:
    get:
      operationId: getContractsContactless
      parameters:
      - description: UUID of Contactless Contract
        in: path
        name: uuid
        required: true
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  agreement_url:
                    example: http://host.com/path/agreement.pdf
                    type: string
                  dealership_name:
                    example: Car Dealership of North Anywhere
                    type: string
                  fuel:
                    example: 15/16
                    type: string
                  fuel_percentage:
                    example: 98.5
                    format: float
                    type: number
                  metric:
                    example: false
                    type: boolean
                  odometer:
                    properties:
                      unit:
                        example: km
                        type: string
                      value:
                        example: 20055.12
                        format: float
                        type: number
                    required:
                    - value
                    - unit
                    type: object
                  signature:
                    example: true
                    type: boolean
                  toggles:
                    items: {}
                    type: array
                type: object
          description: Success
        '404':
          $ref: null
        '406':
          $ref: null
      summary: Returns contactless contract data
      tags:
      - Contracts
      - Contactless
  /v4/contracts/contactless/{uuid}/drivers/{id}:
    get:
      operationId: getContractsContactlessDriver
      parameters:
      - description: UUID of Contactless Contract
        in: path
        name: uuid
        required: true
        schema:
          type: string
      - description: The driver's ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  agreement_url:
                    example: http://host.com/path/agreement.pdf
                    type: string
                  customer_name:
                    description: The full name of the customer that is attached to
                      the contract
                    example: John Doe
                    type: string
                  dealership_name:
                    description: The dealership's name where the contract was started
                      at
                    example: Car Dealership of North Anywhere
                    type: string
                  first_name:
                    description: The driver's first name
                    example: John
                    type: string
                  fuel:
                    example: 15/16
                    type: string
                  fuel_percentage:
                    example: 98.5
                    format: float
                    type: number
                  last_name:
                    description: The driver's last name
                    example: Doe
                    type: string
                  metric:
                    example: false
                    type: boolean
                  odometer:
                    properties:
                      unit:
                        example: km
                        type: string
                      value:
                        example: 1205.11
                        format: float
                        type: number
                    required:
                    - value
                    - unit
                    type: object
                  signature:
                    example: false
                    type: boolean
                type: object
          description: Success
        '404':
          $ref: null
        '406':
          $ref: null
      summary: Returns Contactless Contract/Driver Information
      tags:
      - Contactless
  /v4/contracts/contactless/{uuid}/drivers/{id}/signatures:
    post:
      operationId: postContactlessDriverSignature
      parameters:
      - description: The contract's UUID
        in: path
        name: uuid
        required: true
        schema:
          type: string
      - description: The driver's ID
        in: path
        name: id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                image:
                  description: Driver Signature Base64 Image
                  example: data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wgALCAABAAEBAREA/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQABPxA=
                  format: base64
                  type: string
              required:
              - image
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '404':
          $ref: null
        '415':
          $ref: null
        '422':
          $ref: null
      summary: Create a Signature Image for the Driver
      tags:
      - Contactless
  /v4/contracts/contactless/{uuid}/signatures:
    post:
      operationId: postContractsContactlessSignatures
      parameters:
      - description: The uuid of the contactless contract
        in: path
        name: uuid
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                image:
                  example: V2hhdCdzIHVwIHRoaXMgaXMgbXkgYmFzZTY0IGVuY29kZWQgc2hpdA==
                  format: binary
                  type: string
              type: object
        required: true
      responses:
        '201':
          $ref: null
        '400':
          $ref: null
        '406':
          $ref: null
        '415':
          $ref: null
      summary: Creates a new signature associated with a contactless contract
      tags:
      - Contracts
  /v4/dealerships/{dealership_id}/availability:
    get:
      description: Gets Dealership Availability
      operationId: getDealershipAvailability
      parameters:
      - description: The id of the dealership
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: Pickup Date
        in: query
        name: pickup_on
        required: true
        schema:
          format: date
          type: string
      - description: Dropoff Date
        in: query
        name: dropoff_on
        required: true
        schema:
          format: date
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  dropoffs:
                    items:
                      properties:
                        available:
                          example: true
                          type: boolean
                        end_at:
                          example: 2017-09-06 13:00:00+00:00
                          format: datetime
                          type: string
                        start_at:
                          example: 2017-09-06 10:00:00+00:00
                          format: datetime
                          type: string
                      type: object
                    type: array
                  pickups:
                    items:
                      properties:
                        available:
                          example: true
                          type: boolean
                        end_at:
                          example: 2017-09-06 13:00:00+00:00
                          format: datetime
                          type: string
                        start_at:
                          example: 2017-09-06 10:00:00+00:00
                          format: datetime
                          type: string
                      type: object
                    type: array
                type: object
          description: Success
        '400':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      summary: Gets Dealership Availability
      tags:
      - SCBA Booking Flow
  /v4/dealerships/{dealership_id}/reservations/{reservation_id}/customer:
    get:
      operationId: getReservationCustomer
      parameters:
      - description: the Dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: the Reservation ID
        in: path
        name: reservation_id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  billing:
                    properties:
                      card_type:
                        type: string
                      expiration_month:
                        type: string
                      expiration_year:
                        type: string
                      last_four:
                        type: string
                    type: object
                  current_state:
                    example: started
                    type: string
                  customer:
                    properties:
                      deleted:
                        description: has this account been deleted
                        type: boolean
                      email:
                        example: customer@example.com
                        type: string
                      first_name:
                        description: Customer first name
                        example: Harry
                        type: string
                      id:
                        example: 1
                        type: integer
                      language:
                        description: Customer language
                        example: English
                        type: string
                      last_name:
                        description: Customer last name
                        example: Potter
                        type: string
                      phone_number:
                        description: Customer phone number
                        example: 1234567890
                        type: string
                    type: object
                  drivers_license:
                    properties:
                      city:
                        example: Del Valle
                        type: string
                      country:
                        example: US
                        type: string
                      date_of_birth:
                        example: 1979-03-03
                        format: date
                        type: string
                      expiration:
                        example: 2040-03-03
                        format: date
                        type: string
                      id:
                        example: 2
                        type: integer
                      line1:
                        example: 2415 Highway 71 East
                        type: string
                      line2:
                        example: Suite 761
                        type: string
                      name:
                        example: Harry Potter
                        type: string
                      number:
                        example: TX12332
                        type: string
                      state:
                        example: TX
                        type: string
                      zip:
                        example: 90210
                        type: string
                    type: object
                  insurance_expires_on:
                    description: Policy expiration date
                    example: 2030-01-01
                    format: datetime
                    type: string
                type: object
          description: Success
        '404':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Get the customer information for a reservation
      tags:
      - Dealerships
      - Reservations
    put:
      operationId: putReservationCustomer
      parameters:
      - description: the Dealership ID
        in: path
        name: dealership_id
        required: true
        schema:
          type: integer
      - description: the Reservation ID
        in: path
        name: reservation_id
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                email:
                  description: Customer email - required if dealership has email set
                    as its notification method in its location settings
                  example: harry@hogwarts.gov.uk
                  type: string
                first_name:
                  description: Customer first name
                  example: Roonil
                  type: string
                language:
                  description: Customer language
                  example: English
                  type: string
                last_name:
                  description: Customer last name
                  example: Wazlib
                  type: string
                phone_number:
                  description: Phone number
                  example: 1234567890
                  type: string
              required:
              - first_name
              - last_name
              - phone_number
              - language
              type: object
        required: true
      responses:
        '204':
          $ref: null
        '400':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Update the customer information for a reservation
      tags:
      - Dealerships
      - Reservations
  /v4/documents/{id}:
    get:
      description: Returns the document with the given ID
      operationId: getDocument
      parameters:
      - description: id of the requested document
        in: path
        name: id
        required: true
        schema:
          type: integer
      responses:
        '200':
          content:
            application/pdf:
              schema:
                format: binary
                type: string
          description: Success
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      security:
      - ClientID: []
        ClientSecret: []
      summary: Returns the document with the given ID
      tags:
      - Documents
  /v4/fleets/{fleet_id}/pricing:
    get:
      description: Gets Dealership Fleet Pricing
      operationId: getDealershipFleetPricing
      parameters:
      - description: The id of the dealership fleet
        in: path
        name: fleet_id
        required: true
        schema:
          type: integer
      - description: Pickup Time
        in: query
        name: pickup_at
        required: true
        schema:
          format: date-time
          type: string
      - description: Dropoff Time
        in: query
        name: dropoff_at
        required: true
        schema:
          format: date-time
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  currency_code:
                    example: USD
                    type: string
                  daily_rate:
                    example: 38
                    format: int64
                    type: integer
                  dropoff_at:
                    example: 2017-09-06 13:00:00+00:00
                    format: date-time
                    type: string
                  duration:
                    example: 3
                    format: int64
                    type: integer
                  pickup_at:
                    example: 2017-09-06 10:00:00+00:00
                    format: date-time
                    type: string
                  receipt:
                    properties:
                      rental:
                        properties:
                          items:
                            items:
                              properties:
                                label:
                                  example: 1 Week
                                  type: string
                                secondary_label:
                                  example: $710 per week
                                  type: string
                                total:
                                  example: 123.45
                                  format: double
                                  type: number
                              type: object
                            type: array
                          label:
                            example: Rental
                            type: string
                          total:
                            example: 123.45
                            format: double
                            type: number
                        type: object
                    type: object
                  total:
                    example: 123.45
                    format: double
                    type: number
                type: object
          description: Success
        '400':
          $ref: null
        '406':
          $ref: null
        '422':
          $ref: null
      summary: Gets Dealership Fleet Pricing
      tags:
      - SCBA Booking Flow
  /v4/geolocation/radial_distance:
    post:
      operationId: getGeolocationRadialDistance
      requestBody:
        content:
          application/json:
            schema:
              properties:
                customer_address:
                  properties:
                    full_address:
                      example: 123 ABC Street, Austin, TX 77777
                      format: AddressLine 1 AddressLine 2, City, State Zip
                      type: string
                  required:
                  - full_address
                  type: object
                dealership_address:
                  properties:
                    latitude:
                      example: 1
                      type: number
                    longitude:
                      example: 2
                      type: number
                  required:
                  - latitude
                  - longitude
                  type: object
                radius:
                  nullable: true
                  properties:
                    unit:
                      example: km
                      format: '''km'' or ''mi'''
                      type: string
                    value:
                      example: 2
                      format: Any number greater than 0
                      type: number
                  required:
                  - unit
                  - value
                  type: object
              required:
              - dealership_address
              - customer_address
              type: object
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                properties:
                  customer_address:
                    properties:
                      latitude:
                        example: 1
                        type: number
                      longitude:
                        example: 2
                        type: number
                    type: object
                  dealership_address:
                    properties:
                      latitude:
                        example: 1
                        type: number
                      longitude:
                        example: 2
                        type: number
                    type: object
                  distance:
                    properties:
                      unit:
                        example: mi
                        type: string
                      value:
                        example: 1
                        type: number
                    type: object
                  within_radius:
                    example: false
                    nullable: true
                    type: boolean
                type: object
          description: Success
        '400':
          $ref: null
        '401':
          $ref: null
        '403':
          $ref: null
        '404':
          $ref: null
        '406':
          $ref: null
      summary: Returns the distance between 2 addresses and whether the distance falls
        inside a radial bound
      tags:
      - Geolocation
      - Radial Distance
servers:
- url: https://api.dealerware.com
tags:
- description: Administrative actions and resources
  name: Admin
- description: Agreement actions and resources
  name: Agreements
- description: Contactless Contract actions and resources
  name: Contactless
- description: Contract actions and resources
  name: Contracts
- description: Customer actions and resources
  name: Customers
- description: Dealership actions and resources
  name: Dealerships
- description: Driver actions and resources
  name: Drivers
- description: Employee actions and resources
  name: Employees
- description: Employer Information actions on a Customer resource
  name: Employer Info
- description: Fleet actions and resources
  name: Fleets
- description: Geolocation services for lite valet
  name: Geolocation
- description: Contract invoicing and pricing actions
  name: Invoicing
- description: Vehicle/reservation issue actions
  name: Issues
- description: Toggle Groups actions and resources
  name: Managed Toggles
- description: Private route actions and resources
  name: Private
- description: Telematics actions and resources
  name: Telematics
- description: Toggle Groups actions and resources
  name: Toggle Groups
- description: Single-user actions and resources
  name: User
- description: Multiple-user actions and resources
  name: Users
- description: Vehicle actions and resources
  name: Vehicles
